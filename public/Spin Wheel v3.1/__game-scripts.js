var GameController=pc.createScript("gameController");GameController.attributes.add("stopperMinDistance",{type:"number",default:.1}),GameController.attributes.add("parentWheel",{type:"entity"}),GameController.attributes.add("firstWheel",{type:"entity"}),GameController.attributes.add("powerupWheel",{type:"entity"}),GameController.attributes.add("megaWheel",{type:"entity"}),GameController.attributes.add("superMegaWheel",{type:"entity"}),GameController.attributes.add("animatedWand",{type:"entity"}),GameController.attributes.add("animatedWandStart",{type:"entity"}),GameController.attributes.add("animatedWandDestinition",{type:"entity"}),GameController.attributes.add("x200Slices",{type:"entity"}),GameController.attributes.add("animatedMegaWand",{type:"entity"}),GameController.attributes.add("animatedMegaWandDestinition",{type:"entity"}),GameController.prototype.initialize=function(){selfGameController=this,this.pointPortion=0,this.pointsAdded=0,this.scoreAdded=0,this.isSpinning=!1,this.isGameOver=!1,this.hasDoubledCoins=!1,this.isX200Enabled=!1,this.shouldMoveToPowerUpWheel=!1,this.shouldMoveToMegaWheelWheel=!1,this.shouldMoveToSuperMegaWheeltWheel=!1,this.shouldGetStrike=!1,this.wheel1TutorialDone=!1,this.wheel2TutorialDone=!1,this.isFreeSpin=!1,this.easing="Linear",this.SpinStartEvent="SpinStartedEvent",this.SpinEndEvent="SpinEndedEvent"},GameController.prototype.update=function(e){},GameController.prototype.setWheel1TutorialDone=function(e){this.wheel1TutorialDone=e},GameController.prototype.setIsFreeSpin=function(e){this.isFreeSpin=e},GameController.prototype.getIsFreeSpin=function(){return this.isFreeSpin},GameController.prototype.getWheel1TutorialDone=function(){return this.wheel1TutorialDone},GameController.prototype.setWheel2TutorialDone=function(e){this.wheel2TutorialDone=e},GameController.prototype.getWheel2TutorialDone=function(){return this.wheel2TutorialDone},GameController.prototype.startGameEndTimer=function(){selfTimerController.startTimer()},GameController.prototype.onZapptaCoinsWon=function(e,t){t&&(selfUicontroller.enableZapptaWinAnimation(),selfPlayerDataController.CurrntBalance+=e,selfPlayerDataController.ZapptaWonInTurn=e,window.setTimeout(function(){selfUicontroller.setTotalBalanceTxt(selfPlayerDataController.CurrntBalance),selfSoundController.playDingSound()}.bind(this),500))},GameController.prototype.startSpinning=function(){1==selfPlayerDataController.CurrentWheelNo?this.firstWheel.script.wheelSpinController.startSpinning():2==selfPlayerDataController.CurrentWheelNo?this.powerupWheel.script.wheelSpinController.startSpinning():3==selfPlayerDataController.CurrentWheelNo?this.megaWheel.script.wheelSpinController.startSpinning():4==selfPlayerDataController.CurrentWheelNo&&this.superMegaWheel.script.wheelSpinController.startSpinning()},GameController.prototype.forceStop=function(){1==selfPlayerDataController.CurrentWheelNo?this.firstWheel.script.wheelSpinController.forceStop():2==selfPlayerDataController.CurrentWheelNo?this.powerupWheel.script.wheelSpinController.forceStop():3==selfPlayerDataController.CurrentWheelNo?this.megaWheel.script.wheelSpinController.forceStop():4==selfPlayerDataController.CurrentWheelNo&&this.superMegaWheel.script.wheelSpinController.forceStop()},GameController.prototype.onStrike=function(){selfPlayerDataController.strikesCount<3?(selfUicontroller.enableWatchoutPopup(),selfWatchoutPopupController.enableStrikes(),selfUicontroller.setStrikesCount(selfPlayerDataController.strikesCount)):this.onStrikesCompleted()},GameController.prototype.onStrikesCompleted=function(){selfUicontroller.enableFailedPopup(),selfUicontroller.disableAllButtons(),selfUicontroller.setStrikesCount(selfPlayerDataController.strikesCount),selfFailedPopupController.setScore(selfPlayerDataController.totalScore)},GameController.prototype.setTotalBalanceCount=function(e){selfPlayerDataController.CurrntBalance=e},GameController.prototype.doubleSpinCoins=function(){selfPlayerDataController.CoinsPlayedInTurn<=selfPlayerDataController.CurrntBalance?(this.hasDoubledCoins=!0,selfPlayerDataController.CurrntBalance-=selfPlayerDataController.CoinsPlayedInTurn,selfPlayerDataController.CoinsPlayedInTurn*=2,selfUicontroller.setCoinsPlayedTxt(selfPlayerDataController.CoinsPlayedInTurn),selfUicontroller.setCoinCountText(selfPlayerDataController.CoinsPlayedInTurn),selfUicontroller.setTotalBalanceTxt(selfPlayerDataController.CurrntBalance)):(selfSoundController.playErrorSound(),selfUicontroller.setMessagePopupTxt("Not Enough Coins",2e3))},GameController.prototype.setCoinsOnSpin=function(e){selfPlayerDataController.CoinsPlayedInTurn=e},GameController.prototype.enableX200Slices=function(e){this.x200Slices.enabled=e,this.setX200Enabled(e)},GameController.prototype.setX200Enabled=function(e){this.isX200Enabled=e},GameController.prototype.getX200Enabled=function(){return this.isX200Enabled},GameController.prototype.multiplyTotalScore=function(e){selfPlayerDataController.totalScore=Math.floor(selfPlayerDataController.totalScore*e),selfUicontroller.setTotalScoreTxt(selfPlayerDataController.totalScore)},GameController.prototype.setPointsWon=function(e){selfPlayerDataController.PointsWonInTurn=e,selfPlayerDataController.totalScore+=selfPlayerDataController.PointsWonInTurn},GameController.prototype.setWandsWon=function(e){selfPlayerDataController.WandsWonInTurn=e,selfPlayerDataController.TotalWandsWon+=selfPlayerDataController.WandsWonInTurn,selfUicontroller.setTotalWandsText(selfPlayerDataController.TotalWandsWon),this.animatedWand.enabled=!1},GameController.prototype.setMegaWandsWon=function(e){selfPlayerDataController.MegaWandsWonInTurn=e,selfPlayerDataController.TotalMegaWandsWon+=selfPlayerDataController.MegaWandsWonInTurn,selfUicontroller.setTotalMegaWandsText(selfPlayerDataController.TotalMegaWandsWon),this.animatedMegaWand.enabled=!1},GameController.prototype.getCoinsOnSpin=function(){return selfPlayerDataController.CoinsPlayedInTurn},GameController.prototype.setIsSpinning=function(e){this.isSpinning=e},GameController.prototype.getIsSpinning=function(){return this.isSpinning},GameController.prototype.resetSpinControls=function(){setTimeout(selfUicontroller.enableSpinButton,1e3,this)},GameController.prototype.resetCoinControls=function(){setTimeout(selfUicontroller.enableCoinAdditionButtons,1e3,this)},GameController.prototype.restartGame=function(){selfPlayerDataController.CallForResetData()},GameController.prototype.UpdateDataOnResetSuccess=function(){selfPlayerDataController.TotalCoinsPlayed=0,selfPlayerDataController.totalScore=0,selfPlayerDataController.strikesCount=0,selfPlayerDataController.TotalWandsWon=0,selfPlayerDataController.UpdateHUD_ForProductDetails(),selfPlayerDataController.CurrntBalance>=1&&selfUicontroller.enableAllButtons()},GameController.prototype.setCoinsPlayed=function(e){selfPlayerDataController.TotalCoinsPlayed=e,selfUicontroller.setCoinsPlayedTxt(selfPlayerDataController.TotalCoinsPlayed)},GameController.prototype.reimburseCoinsPlayed=function(){selfPlayerDataController.CurrntBalance+=selfPlayerDataController.CoinsPlayedInTurn,selfUicontroller.setTotalBalanceTxt(selfPlayerDataController.CurrntBalance)},GameController.prototype.enableChallengePopup=function(){selfUicontroller.enableMegaSpinPopUp(),selfChallengePopupController.setScore(selfPlayerDataController.totalScore)},GameController.prototype.enableWinPopup=function(){selfUicontroller.enableWinPopUp(),selfWinPopupController.setScore(selfPlayerDataController.totalScore)},GameController.prototype.onTimeUp=function(){selfUicontroller.disableAllButtons(),this.isGameOver=!0,selfUicontroller.setMessagePopupTxt("TIME UP",9e5)},GameController.prototype.wheelSpinStarted=function(){this.setIsSpinning(!0),selfSoundController.playSpinStartSound(),this.app.fire(this.SpinStartEvent)},GameController.prototype.wheelSpinCompleted=function(){this.setIsSpinning(!1),selfSoundController.playSpinCompleteSound(),this.app.fire(this.SpinEndEvent)},GameController.prototype.onPointsWon=function(e){selfWinBgcontroller.animateIn(e),this.setPointsWon(e),this.pointPortion=selfPlayerDataController.PointsWonInTurn/8},GameController.prototype.onWandsWon=function(e){this.animatedWand.setPosition(this.animatedWandStart.getPosition()),this.animatedWand.script.tweenPositionCustom.setFrom(this.animatedWand.getLocalPosition()),this.animatedWand.script.tweenPositionCustom.setTo(this.animatedWandDestinition.getLocalPosition()),this.animatedWand.enabled=!0,window.setTimeout(function(){this.setWandsWon(e)}.bind(this),500)},GameController.prototype.onMegaWandsWon=function(e){this.animatedMegaWand.setPosition(this.animatedWandStart.getPosition()),this.animatedMegaWand.script.tweenPositionCustom.setFrom(this.animatedMegaWand.getLocalPosition()),this.animatedMegaWand.script.tweenPositionCustom.setTo(this.animatedMegaWandDestinition.getLocalPosition()),this.animatedMegaWand.enabled=!0,window.setTimeout(function(){this.setMegaWandsWon(e)}.bind(this),500)},GameController.prototype.animatePoints=function(){this.pointsAdded<selfPlayerDataController.PointsWonInTurn&&(this.pointsAdded+=this.pointPortion,this.scoreAdded+=this.pointPortion,selfUicontroller.setPointsWonTxt(Math.floor(this.pointsAdded)),selfUicontroller.setTotalScoreTxt(Math.floor(selfPlayerDataController.totalScore-selfPlayerDataController.PointsWonInTurn+this.scoreAdded)))},GameController.prototype.setTotalPointsUI=function(){this.pointsAdded=0,this.scoreAdded=0,selfUicontroller.setPointsWonTxt(Math.floor(selfPlayerDataController.PointsWonInTurn)),selfUicontroller.setTotalScoreTxt(Math.floor(selfPlayerDataController.totalScore))},GameController.prototype.enableFirstWheel=function(){console.log("enableFirstWheel"),selfPlayerDataController.CurrentWheelNo=1,this.parentWheel.enabled=!1,selfGameController.firstWheel.parent.enabled=!0,selfGameController.powerupWheel.parent.enabled=!1,selfGameController.megaWheel.parent.enabled=!1,selfGameController.superMegaWheel.parent.enabled=!1,this.parentWheel.enabled=!0,selfSoundController.playPopoutSound(),selfSoundController.playWheelEnableSound(),selfSoundController.stopBGSuspenseSound(),selfUicontroller.setShowPowerupPopup(!0),this.hasDoubledCoins&&(this.hasDoubledCoins=!1,selfUicontroller.setCoinCountText(selfPlayerDataController.CoinsPlayedInTurn/2)),setTimeout(selfUicontroller.enableAllButtons,2e3,this)},GameController.prototype.enablePowerupWheel=function(){selfPlayerDataController.CurrentWheelNo=2,this.parentWheel.enabled=!1,selfGameController.powerupWheel.parent.enabled=!0,selfGameController.firstWheel.parent.enabled=!1,selfGameController.megaWheel.parent.enabled=!1,selfGameController.superMegaWheel.parent.enabled=!1,this.parentWheel.enabled=!0,selfSoundController.playPopoutSound(),selfSoundController.playWheelEnableSound(),selfSoundController.playBGSuspenseSound(),selfUicontroller.setMessagePopupTxt("Powerup Wheel",2500),setTimeout(selfUicontroller.enableSpinButton,2e3,this),window.setTimeout(function(){!selfGameController.getWheel2TutorialDone()&&selfPlayerDataController.TotalMegaWandsWon>=3&&(selfUicontroller.enableWandPopUp(),selfWandTutorialController.setInitialData())}.bind(this),2e3)},GameController.prototype.enableMegaWheel=function(){selfPlayerDataController.CurrentWheelNo=3,this.parentWheel.enabled=!1,selfGameController.powerupWheel.parent.enabled=!1,selfGameController.firstWheel.parent.enabled=!1,selfGameController.megaWheel.parent.enabled=!0,selfGameController.superMegaWheel.parent.enabled=!1,this.parentWheel.enabled=!0,selfSoundController.playPopoutSound(),selfSoundController.playWheelEnableSound(),selfUicontroller.setMessagePopupTxt("Mega Wheel",2500),setTimeout(selfUicontroller.enableSpinButton,2e3,this)},GameController.prototype.enableSuperMegaWheel=function(){selfPlayerDataController.CurrentWheelNo=4,this.parentWheel.enabled=!1,selfGameController.powerupWheel.parent.enabled=!1,selfGameController.firstWheel.parent.enabled=!1,selfGameController.megaWheel.parent.enabled=!1,selfGameController.superMegaWheel.parent.enabled=!0,this.parentWheel.enabled=!0,selfSoundController.playPopoutSound(),selfSoundController.playWheelEnableSound(),selfUicontroller.setMessagePopupTxt("Super Mega Wheel",2500),setTimeout(selfUicontroller.enableSpinButton,2e3,this)};var NeedleController=pc.createScript("needleController");NeedleController.attributes.add("repositionSpeed",{type:"number",default:.1}),NeedleController.prototype.initialize=function(){selfNeedleController=this,this.angleToRotate=-60,this.shouldRotate=!1,this.app.on("SpinStartedEvent",this.resetInitialAngle,this),this.app.on("SpinStartedEvent",this.setShouldRotate,this)},NeedleController.prototype.update=function(t){this.entity.getEulerAngles().z<0&&this.entity.rotateLocal(0,0,this.repositionSpeed)},NeedleController.prototype.onStopperCollision=function(){this.shouldRotate&&(this.entity.rotateLocal(0,0,this.angleToRotate),this.angleToRotate<-25&&(this.angleToRotate+=2),selfSoundController.playDingSound())},NeedleController.prototype.resetInitialAngle=function(){this.angleToRotate=-60},NeedleController.prototype.setShouldRotate=function(t){this.shouldRotate=t},NeedleController.prototype.setShouldRotate=function(){this.shouldRotate=!0};var TimerController=pc.createScript("timerController");TimerController.attributes.add("daysText",{type:"entity"}),TimerController.attributes.add("hoursText",{type:"entity"}),TimerController.attributes.add("minutesText",{type:"entity"}),TimerController.attributes.add("secondsText",{type:"entity"}),TimerController.prototype.initialize=function(){selfTimerController=this,this.timerCountdown=0,this.isTimeOver=!1,this.days=0,this.hours=0,this.minutes=0,this.seconds=0,this.IsTimerRunning=!1},TimerController.prototype.startTimer=function(){this.timerCountdown=selfPlayerDataController.RemainingSeconds,!1===this.IsTimerRunning&&(this.IsTimerRunning=!0,this.onTimerCountdown())},TimerController.prototype.onTimerCountdown=function(){timerTimeId=setTimeout((function(){selfTimerController.timerCountdown=parseInt(selfTimerController.timerCountdown)-1,selfTimerController.updateTimerText(selfTimerController.timerCountdown),selfTimerController.timerCountdown>0?selfTimerController.onTimerCountdown():(selfTimerController.isTimeOver=!0,selfTimerController.onTimeOut())}),1e3)},TimerController.prototype.update=function(t){},TimerController.prototype.updateTimerText=function(t){this.days=0,this.hours=0,this.minutes=0,this.seconds=0,t>=86400&&(this.days=Math.floor(parseInt(t/86400)),t=parseInt(t)-86400*parseInt(this.days)),t>=3600&&(this.hours=Math.floor(parseInt(t/3600)),t=parseInt(t)-3600*parseInt(this.hours)),t>=60&&(this.minutes=Math.floor(parseInt(t)/60),t=parseInt(t)-60*parseInt(this.minutes)),this.seconds=t,this.daysText.element.text=this.days.toString(),1==this.days.toString().length&&(this.daysText.element.text="0"+this.days.toString()),this.hoursText.element.text=this.hours.toString(),1==this.hours.toString().length&&(this.hoursText.element.text="0"+this.hours.toString()),this.minutesText.element.text=this.minutes.toString(),1==this.minutes.toString().length&&(this.minutesText.element.text="0"+this.minutes.toString()),this.secondsText.element.text=this.seconds.toString(),1==this.seconds.toString().length&&(this.secondsText.element.text="0"+this.seconds.toString())},TimerController.prototype.onTimeOut=function(){console.log("Game Timer Ended"),this.daysText.element.text="00",this.hoursText.element.text="00",this.minutesText.element.text="00",this.secondsText.element.text="00",selfGameController.onTimeUp()};var LeaderboardRow=pc.createScript("leaderboardRow");LeaderboardRow.attributes.add("rank",{type:"entity"}),LeaderboardRow.attributes.add("name",{type:"entity"}),LeaderboardRow.attributes.add("score",{type:"entity"}),LeaderboardRow.attributes.add("NotPlayerBG",{type:"entity"}),LeaderboardRow.attributes.add("PlayerBG",{type:"entity"}),LeaderboardRow.prototype.initialize=function(){},LeaderboardRow.prototype.update=function(e){},LeaderboardRow.prototype.setData=function(e,t,a,r){this.rank.element.text=e+"",this.name.element.text=t+"",this.score.element.text=a+"",this.NotPlayerBG.enabled=!r,this.PlayerBG.enabled=r};var LeaderboardController=pc.createScript("leaderboardController");LeaderboardController.attributes.add("leaderboardRows",{type:"entity",array:!0}),LeaderboardController.attributes.add("top3BGNormal",{type:"asset",assetType:"texture"}),LeaderboardController.attributes.add("top3BGPlayer",{type:"asset",assetType:"texture"}),LeaderboardController.attributes.add("BGNormal",{type:"asset",assetType:"texture"}),LeaderboardController.attributes.add("BGPlayer",{type:"asset",assetType:"texture"}),LeaderboardController.prototype.initialize=function(){selfLeaderboardController=this},LeaderboardController.prototype.setRowsdata=function(e){this.setToDefault();for(let r=0;r<this.leaderboardRows.length&&r<e.length;r++)this.leaderboardRows[r].script.leaderboardRow.setData(e[r].rank,e[r].fname,e[r].score,e[r].is_player)},LeaderboardController.prototype.setToDefault=function(){for(let e=0;e<this.leaderboardRows.length;e++)this.leaderboardRows[e].script.leaderboardRow.setData("","","",!1)};var Uicontroller=pc.createScript("uicontroller");Uicontroller.attributes.add("minCoinsToSpin",{type:"number",default:1}),Uicontroller.attributes.add("maxCoinsToSpin",{type:"number",default:25}),Uicontroller.attributes.add("coinsPlayedTxt",{type:"entity"}),Uicontroller.attributes.add("pointsWonTxt",{type:"entity"}),Uicontroller.attributes.add("totalScoreTxt",{type:"entity"}),Uicontroller.attributes.add("messagePopupTxt",{type:"entity"}),Uicontroller.attributes.add("toastPopupTxt",{type:"entity"}),Uicontroller.attributes.add("toastObj",{type:"entity"}),Uicontroller.attributes.add("currentWandCountText",{type:"entity"}),Uicontroller.attributes.add("currentMegaWandCountText",{type:"entity"}),Uicontroller.attributes.add("TotalWandsText",{type:"entity"}),Uicontroller.attributes.add("TotalMegaWandsText",{type:"entity"}),Uicontroller.attributes.add("ZapptaCoinsSliceText",{type:"entity"}),Uicontroller.attributes.add("ZapptaCoinsAnimate",{type:"entity"}),Uicontroller.attributes.add("WheelSliceLock_Zappta",{type:"entity"}),Uicontroller.attributes.add("WheelSliceLock_Wild",{type:"entity"}),Uicontroller.attributes.add("WheelSliceLock_Wand",{type:"entity"}),Uicontroller.attributes.add("WheelSliceLock_MegaWand",{type:"entity"}),Uicontroller.attributes.add("WheelSliceUnLock_Zappta",{type:"entity"}),Uicontroller.attributes.add("WheelSliceUnLock_Wild",{type:"entity"}),Uicontroller.attributes.add("WheelSliceUnLock_Wand",{type:"entity"}),Uicontroller.attributes.add("WheelSliceUnLock_MegaWand",{type:"entity"}),Uicontroller.attributes.add("Lock_PowerWand",{type:"entity"}),Uicontroller.attributes.add("Lock_MegaWand",{type:"entity"}),Uicontroller.attributes.add("coinAddBtn",{type:"entity"}),Uicontroller.attributes.add("coinSubtractBtn",{type:"entity"}),Uicontroller.attributes.add("coinCountTxt",{type:"entity"}),Uicontroller.attributes.add("totalBalanceTxt",{type:"entity"}),Uicontroller.attributes.add("spinBtn",{type:"entity"}),Uicontroller.attributes.add("maxBetBtn",{type:"entity"}),Uicontroller.attributes.add("cashoutBtn",{type:"entity"}),Uicontroller.attributes.add("settingsBtn",{type:"entity"}),Uicontroller.attributes.add("watchoutPopUp",{type:"entity"}),Uicontroller.attributes.add("failedPopUp",{type:"entity"}),Uicontroller.attributes.add("winPopUp",{type:"entity"}),Uicontroller.attributes.add("megaSpinPopUp",{type:"entity"}),Uicontroller.attributes.add("settingsPopUp",{type:"entity"}),Uicontroller.attributes.add("powerupChallengePopUp",{type:"entity"}),Uicontroller.attributes.add("wandPopUp",{type:"entity"}),Uicontroller.attributes.add("zapptaGiftPopUp",{type:"entity"}),Uicontroller.attributes.add("strikesIcon",{type:"entity",array:!0}),Uicontroller.attributes.add("moveSecondWheel",{type:"entity"}),Uicontroller.attributes.add("moveThirdWheel",{type:"entity"}),Uicontroller.attributes.add("moveFourthWheel",{type:"entity"}),Uicontroller.attributes.add("getStrike",{type:"entity"}),Uicontroller.attributes.add("forceStop",{type:"entity"}),Uicontroller.attributes.add("ProductImage",{type:"entity"}),Uicontroller.attributes.add("ProductPrice",{type:"entity"}),Uicontroller.attributes.add("ProductName",{type:"entity"}),Uicontroller.attributes.add("CompanyLogo",{type:"entity"}),Uicontroller.attributes.add("ResultScreenProductImage",{type:"entity"}),Uicontroller.attributes.add("wandObj",{type:"entity"}),Uicontroller.attributes.add("megaWandObj",{type:"entity"}),Uicontroller.prototype.initialize=function(){selfUicontroller=this,this.coinAddBtn.button.on("click",this.onCoinAddBtn,this),this.coinSubtractBtn.button.on("click",this.onCoinSubtractBtn,this),this.spinBtn.button.on("click",this.onSpinBtn,this),this.maxBetBtn.button.on("click",this.onMaxBetBtn,this),this.settingsBtn.button.on("click",this.onSettingsBtn,this),this.coinCount=this.minCoinsToSpin,this.currentWandCount=1,this.currentZapptaCoinsSliceCount=40,this.previousZapptaCoinsSliceCount=40,this.wheelUnlockedTimeDelay=500,this.previousWandCount=1,this.setTotalBalanceTxt(selfPlayerDataController.CurrntBalance),this.moveSecondWheel.button.on("click",this.toggleMoveToSecondWheel,this),this.moveThirdWheel.button.on("click",this.toggleMoveToThirdWheel,this),this.moveFourthWheel.button.on("click",this.toggleMoveToFourthWheel,this),this.getStrike.button.on("click",this.toggleGetStrike,this),this.forceStop.button.on("click",this.onForceStop,this),selfPlayerDataController.CallForUpdateProductImage(),selfPlayerDataController.UpdateHUD_ForProductDetails(),this.showPowerupPopup=!0},Uicontroller.prototype.toggleMoveToSecondWheel=function(){selfGameController.shouldMoveToPowerUpWheel=!selfGameController.shouldMoveToPowerUpWheel},Uicontroller.prototype.toggleMoveToThirdWheel=function(){selfGameController.shouldMoveToMegaWheelWheel=!selfGameController.shouldMoveToMegaWheelWheel},Uicontroller.prototype.toggleMoveToFourthWheel=function(){selfGameController.shouldMoveToSuperMegaWheeltWheel=!selfGameController.shouldMoveToSuperMegaWheeltWheel},Uicontroller.prototype.toggleGetStrike=function(){selfGameController.shouldGetStrike=!selfGameController.shouldGetStrike},Uicontroller.prototype.onForceStop=function(){selfGameController.forceStop()},Uicontroller.prototype.onCoinAddBtn=function(){this.addOffset=1===this.coinCount?4:5,this.coinCount<this.maxCoinsToSpin&&this.coinCount+this.addOffset<=selfPlayerDataController.CurrntBalance?(this.coinCount+=this.addOffset,this.setCoinCountText(this.coinCount),this.setCoinsPlayedTxt(this.coinCount),selfSoundController.playBtnClickSound()):selfSoundController.playErrorSound(),selfUicontroller.setCurrentWandCount(),selfUicontroller.setCurrentZapptaCoinsCount()},Uicontroller.prototype.onCoinSubtractBtn=function(){this.subtractOffset=5===this.coinCount?4:5,this.coinCount>this.minCoinsToSpin?(this.coinCount-=this.subtractOffset,this.setCoinCountText(this.coinCount),this.setCoinsPlayedTxt(this.coinCount),selfSoundController.playBtnClickSound()):selfSoundController.playErrorSound(),selfUicontroller.setCurrentWandCount(),selfUicontroller.setCurrentZapptaCoinsCount()},Uicontroller.prototype.onSpinBtn=function(){if(!selfGameController.getIsFreeSpin()){if(2===selfPlayerDataController.CurrentWheelNo&&this.showPowerupPopup)return this.enablePowerupChallengePopUp(),void this.setShowPowerupPopup(!1);if(1===selfPlayerDataController.CurrentWheelNo){if(this.coinCount>selfPlayerDataController.CurrntBalance)return selfSoundController.playErrorSound(),void selfUicontroller.setMessagePopupTxt("Not Enough Coins",2500);selfGameController.setTotalBalanceCount(selfPlayerDataController.CurrntBalance-this.coinCount),selfGameController.setCoinsPlayed(this.coinCount),selfGameController.setCoinsOnSpin(this.coinCount),this.setTotalBalanceTxt(selfPlayerDataController.CurrntBalance)}}this.disableAllButtons(),this.setPointsWonTxt("0"),selfGameController.startSpinning(),selfSoundController.playBtnClickSound(),1===selfPlayerDataController.CurrentWheelNo&&selfLevelsController.onSpinPressed()},Uicontroller.prototype.onMaxBetBtn=function(){selfPlayerDataController.CurrntBalance>this.maxCoinsToSpin?(this.coinCount=this.maxCoinsToSpin,this.setCoinCountText(this.coinCount),this.setCoinsPlayedTxt(this.coinCount),selfSoundController.playBtnClickSound()):selfSoundController.playErrorSound(),selfUicontroller.setCurrentWandCount(),selfUicontroller.setCurrentZapptaCoinsCount()},Uicontroller.prototype.onSettingsBtn=function(){selfSoundController.playBtnClickSound(),this.settingsPopUp.enabled=!0},Uicontroller.prototype.disableMessagePopupTxt=function(){selfUicontroller.messagePopupTxt.parent.parent.enabled=!1},Uicontroller.prototype.disableAllButtons=function(){selfUicontroller.coinAddBtn.button.active=!1,selfUicontroller.spinBtn.button.active=!1,selfUicontroller.coinSubtractBtn.button.active=!1,selfUicontroller.maxBetBtn.button.active=!1,selfUicontroller.cashoutBtn.button.active=!1,selfUicontroller.settingsBtn.button.active=!1},Uicontroller.prototype.enableAllButtons=function(){selfGameController.getIsSpinning()||selfGameController.isGameOver||(selfUicontroller.coinAddBtn.button.active=!0,selfUicontroller.coinSubtractBtn.button.active=!0,selfUicontroller.maxBetBtn.button.active=!0,selfUicontroller.cashoutBtn.button.active=!0,selfUicontroller.enableSpinButton())},Uicontroller.prototype.enableCoinAdditionButtons=function(){selfGameController.isGameOver||(selfUicontroller.coinAddBtn.button.active=!0,selfUicontroller.coinSubtractBtn.button.active=!0,selfUicontroller.maxBetBtn.button.active=!0)},Uicontroller.prototype.enableSpinButton=function(){selfGameController.isGameOver||(selfLevelsController.checkSpinCounter(),selfUicontroller.spinBtn.button.active=!0,selfUicontroller.settingsBtn.button.active=!0)},Uicontroller.prototype.enableWatchoutPopup=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.watchoutPopUp.enabled=!0},Uicontroller.prototype.enableFailedPopup=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.failedPopUp.enabled=!0},Uicontroller.prototype.enableMegaSpinPopUp=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.megaSpinPopUp.enabled=!0},Uicontroller.prototype.enableZapptaGiftPopUp=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.zapptaGiftPopUp.enabled=!0,selfUicontroller.zapptaGiftPopUp.script.zapptaGiftsPopupController.resetData()},Uicontroller.prototype.enablePowerupChallengePopUp=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.powerupChallengePopUp.enabled=!0},Uicontroller.prototype.enableWandPopUp=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.wandPopUp.enabled=!0},Uicontroller.prototype.enableWinPopUp=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.winPopUp.enabled=!0},Uicontroller.prototype.enableZapptaWinAnimation=function(){selfSoundController.playPopupSlideSound(),selfUicontroller.ZapptaCoinsAnimate.enabled=!0,window.setTimeout(function(){selfUicontroller.disableZapptaWinAnimation()}.bind(this),1e3)},Uicontroller.prototype.disableZapptaWinAnimation=function(){selfUicontroller.ZapptaCoinsAnimate.enabled=!1},Uicontroller.prototype.enableWheelSliceLock_Zappta=function(t){window.setTimeout(function(){selfUicontroller.WheelSliceLock_Zappta.script.frameAnimationController.initiateAnimaetion()}.bind(this),this.wheelUnlockedTimeDelay),window.setTimeout(function(){selfUicontroller.WheelSliceLock_Zappta.enabled=t,selfUicontroller.WheelSliceLock_Zappta.parent.enabled=t,selfUicontroller.WheelSliceUnLock_Zappta.enabled=!t}.bind(this),this.wheelUnlockedTimeDelay+2e3)},Uicontroller.prototype.enableWheelSliceLock_Wild=function(t){window.setTimeout(function(){selfUicontroller.WheelSliceLock_Wild.script.frameAnimationController.initiateAnimaetion()}.bind(this),this.wheelUnlockedTimeDelay),window.setTimeout(function(){selfUicontroller.WheelSliceLock_Wild.enabled=t,selfUicontroller.WheelSliceLock_Wild.parent.enabled=t,selfUicontroller.WheelSliceUnLock_Wild.enabled=!t}.bind(this),this.wheelUnlockedTimeDelay+2e3)},Uicontroller.prototype.enableWheelSliceLock_Wand=function(t){window.setTimeout(function(){selfUicontroller.WheelSliceLock_Wand.script.frameAnimationController.initiateAnimaetion()}.bind(this),this.wheelUnlockedTimeDelay),window.setTimeout(function(){selfUicontroller.WheelSliceLock_Wand.enabled=t,selfUicontroller.WheelSliceLock_Wand.parent.enabled=t,selfUicontroller.WheelSliceUnLock_Wand.enabled=!t,selfUicontroller.enableWandObj(!0)}.bind(this),this.wheelUnlockedTimeDelay+2e3)},Uicontroller.prototype.enableWheelSliceLock_MegaWand=function(t){window.setTimeout(function(){selfUicontroller.WheelSliceLock_MegaWand.script.frameAnimationController.initiateAnimaetion()}.bind(this),this.wheelUnlockedTimeDelay),window.setTimeout(function(){selfUicontroller.WheelSliceLock_MegaWand.enabled=t,selfUicontroller.WheelSliceLock_MegaWand.parent.enabled=t,selfUicontroller.WheelSliceUnLock_MegaWand.enabled=!t,selfUicontroller.enableMegaWandObj(!0)}.bind(this),this.wheelUnlockedTimeDelay+2e3)},Uicontroller.prototype.enableLock_PowerWand=function(t){this.Lock_PowerWand.enabled=t},Uicontroller.prototype.enableLock_MegaWand=function(t){this.Lock_MegaWand.enabled=t},Uicontroller.prototype.enableWandObj=function(t){this.wandObj.enabled=t},Uicontroller.prototype.enableMegaWandObj=function(t){this.megaWandObj.enabled=t},Uicontroller.prototype.setPointsWonTxt=function(t){this.pointsWonTxt.element.text=t},Uicontroller.prototype.setTotalScoreTxt=function(t){this.totalScoreTxt.element.text=Math.floor(t)},Uicontroller.prototype.setCoinsPlayedTxt=function(t){this.coinsPlayedTxt.element.text=t},Uicontroller.prototype.setCoinCountText=function(t){this.coinCountTxt.element.text=t},Uicontroller.prototype.addCoinCountText=function(t){this.coinsPlayedTxt.element.text=this.coinsPlayedTxt.element.text+t},Uicontroller.prototype.resetCoinCountText=function(t){this.coinCountTxt.element.text=t,this.coinCount=t,this.setCoinsPlayedTxt(t),selfUicontroller.setCurrentWandCount(),selfUicontroller.setCurrentZapptaCoinsCount()},Uicontroller.prototype.setTotalBalanceTxt=function(t){this.totalBalanceTxt.element.text=t},Uicontroller.prototype.setStrikesCount=function(t){this.resetAllStrikesCount();for(let e=0;e<t&&e<this.strikesIcon.length;e++)this.strikesIcon[e].enabled=!0},Uicontroller.prototype.setMessagePopupTxt=function(t,e){selfSoundController.playPopupSlideSound(),this.messagePopupTxt.parent.parent.enabled=!0,this.messagePopupTxt.element.text=t,setTimeout(this.disableMessagePopupTxt,e,this)},Uicontroller.prototype.resetAllStrikesCount=function(){for(let t=0;t<this.strikesIcon.length;t++)this.strikesIcon[t].enabled=!1},Uicontroller.prototype.setShowPowerupPopup=function(t){this.showPowerupPopup=t},Uicontroller.prototype.setProductImage=function(t){this.ProductImage.element.texture=t.resource,this.ResultScreenProductImage.element.texture=t.resource},Uicontroller.prototype.setCompanyImage=function(t){this.CompanyLogo.element.texture=t.resource},Uicontroller.prototype.setProductPrice=function(t){this.ProductPrice.element.text="$"+t},Uicontroller.prototype.setProductName=function(t){this.ProductName.element.text=t},Uicontroller.prototype.setTotalWandsText=function(t){this.TotalWandsText.element.text=t},Uicontroller.prototype.setTotalMegaWandsText=function(t){this.TotalMegaWandsText.element.text=t},Uicontroller.prototype.getCurrentWandCount=function(){return this.currentWandCount},Uicontroller.prototype.getCurrentZapptaCoinsSliceCount=function(){return this.currentZapptaCoinsSliceCount},Uicontroller.prototype.setCurrentWandCount=function(){1===selfPlayerDataController.CurrentWheelNo&&(this.currentWandCount=this.coinCount/5,this.currentWandCount=this.currentWandCount<1?1:this.currentWandCount+1,this.currentWandCountText.element.text=this.currentWandCount,this.currentMegaWandCountText.element.text=this.currentWandCount,this.previousWandCount!=this.currentWandCount&&(this.currentWandCountText.script.scaleUpcustom.reset(),this.currentMegaWandCountText.script.scaleUpcustom.reset(),selfSoundController.playPopoutSound()),this.previousWandCount=this.currentWandCount)},Uicontroller.prototype.setCurrentZapptaCoinsCount=function(){1===selfPlayerDataController.CurrentWheelNo&&(this.currentZapptaCoinsSliceCount=40*this.coinCount,this.ZapptaCoinsSliceText.element.text=this.currentZapptaCoinsSliceCount,this.previousZapptaCoinsSliceCount!=this.currentZapptaCoinsSliceCount&&(this.ZapptaCoinsSliceText.script.scaleUpcustom.reset(),selfSoundController.playPopoutSound()),this.previousZapptaCoinsSliceCount=this.currentZapptaCoinsSliceCount)};var SoundController=pc.createScript("soundController");SoundController.prototype.initialize=function(){selfSoundController=this},SoundController.prototype.setSoundVolume=function(o){selfSoundController.entity.sound.volume=o},SoundController.prototype.playBGSuspenseSound=function(){selfSoundController.entity.sound.play("BG Suspense")},SoundController.prototype.stopBGSuspenseSound=function(){selfSoundController.entity.sound.stop("BG Suspense")},SoundController.prototype.playLockClickSound=function(){selfSoundController.entity.sound.play("lockClick")},SoundController.prototype.playSpecialWheelSound=function(){selfSoundController.entity.sound.play("SpecialWheel")},SoundController.prototype.playBtnClickSound=function(){selfSoundController.entity.sound.play("BtnClick")},SoundController.prototype.playErrorSound=function(){selfSoundController.entity.sound.play("error")},SoundController.prototype.playDingSound=function(){selfSoundController.entity.sound.play("ding")},SoundController.prototype.playSpinCompleteSound=function(){selfSoundController.entity.sound.play("spinComplete")},SoundController.prototype.playSpinStartSound=function(){selfSoundController.entity.sound.play("spinStart")},SoundController.prototype.playPopoutSound=function(){selfSoundController.entity.sound.play("popout")},SoundController.prototype.playCoinsWonSound=function(){selfSoundController.entity.sound.play("coinsWon")},SoundController.prototype.playPopupSlideSound=function(){selfSoundController.entity.sound.play("popupSlide")},SoundController.prototype.playStrikeSound=function(){selfSoundController.entity.sound.play("strike")},SoundController.prototype.playWheelEnableSound=function(){selfSoundController.entity.sound.play("wheelEnable")},SoundController.prototype.playWandSound=function(){selfSoundController.entity.sound.play("wand")};var WheelSpinController=pc.createScript("wheelSpinController");WheelSpinController.attributes.add("spinSpeed",{type:"number",default:5}),WheelSpinController.attributes.add("spinDecreaseOffset",{type:"number",default:1}),WheelSpinController.attributes.add("shouldnotstop",{type:"boolean",default:!1}),WheelSpinController.prototype.initialize=function(){this.shouldStartSpinning=!1,this.shouldStartReducingSpin=!1,this.spinOffset=this.spinSpeed,this.angle=0,this.decreaseOffset=this.spinDecreaseOffset,this.isX200Got=!1},WheelSpinController.prototype.update=function(e){this.shouldStartSpinning&&(this.spinOffset<=.5&&this.checkisLockedSlice()&&(this.spinOffset=.5),this.angle+=this.spinOffset,this.spinOffset>10&&this.shouldStartReducingSpin?this.spinOffset-=this.decreaseOffset:this.spinOffset<=10&&this.spinOffset>0&&this.shouldStartReducingSpin?this.shouldnotstop?(this.spinOffset-=this.decreaseOffset/10,this.spinOffset=.75):this.spinOffset-=this.decreaseOffset/20:this.spinOffset<=0&&this.spinComplete(),this.spinOffset<=1&&selfNeedleController.setShouldRotate(!1),this.entity.setEulerAngles(new pc.Vec3(0,0,this.angle)))},WheelSpinController.prototype.forceStop=function(){this.spinOffset=0},WheelSpinController.prototype.startSpinning=function(){this.angle=0,this.spinOffset=this.spinSpeed,this.shouldStartReducingSpin=!1,this.shouldStartSpinning=!0,this.isX200Got=!1,selfPlayerDataController.ZapptaWonInTurn=0,selfGameController.wheelSpinStarted(),this.rand=pc.math.random(1200,1900),window.setTimeout(function(){this.startSpinDecrease()}.bind(this),this.rand)},WheelSpinController.prototype.startSpinDecrease=function(){this.shouldStartReducingSpin=!0},WheelSpinController.prototype.spinComplete=function(){this.shouldStartSpinning=!1,selfGameController.wheelSpinCompleted(),window.setTimeout(function(){1==selfPlayerDataController.CurrentWheelNo?this.checkWheel1():2==selfPlayerDataController.CurrentWheelNo?this.checkWheel2():3==selfPlayerDataController.CurrentWheelNo?this.checkWheel3():4==selfPlayerDataController.CurrentWheelNo&&this.checkWheel4()}.bind(this),500)},WheelSpinController.prototype.checkisLockedSlice=function(){if(this.currentAngle=this.angle%360,1==selfPlayerDataController.CurrentWheelNo){if(this.currentAngle>=11&&this.currentAngle<39.25&&!selfLevelsController.getMegaWandUnlocked())return!0;if(this.currentAngle>=143.8&&this.currentAngle<172&&!selfLevelsController.getCoinsUnlocked())return!0;if(this.currentAngle>=244.7&&this.currentAngle<272.6&&!selfLevelsController.getPowerWandUnlocked())return!0;if(this.currentAngle>=289.5&&this.currentAngle<317.4&&!selfLevelsController.getWildSpinUnlocked())return!0}return!1},WheelSpinController.prototype.checkWheel1=function(){if(this.currentAngle=this.angle%360,selfGameController.shouldGetStrike)this.onStrike();else if(selfGameController.shouldMoveToPowerUpWheel)selfGameController.enablePowerupWheel();else{if(this.currentAngle>=359.6||this.currentAngle>=0&&this.currentAngle<11)selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x160()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X160"),selfPlayerDataController.sendData(),this.onMultiplyPoint(160),this.resetCoinControls());else if(this.currentAngle>=11&&this.currentAngle<39.25){if(!selfLevelsController.getMegaWandUnlocked())return selfUicontroller.setMessagePopupTxt("SLICE LOCKED. UNLOCKS AT LEVEL 5 — SPIN AGAIN",3500),this.onLockedSlice(),this.resetCoinControls(),void window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3);this.onMegaWandWon(),this.resetCoinControls(),window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3)}else if(this.currentAngle>=39.25&&this.currentAngle<50.5)selfPlayerDataController.setSelectedSpinPortion("Strike"),selfPlayerDataController.sendData(),this.onStrike();else if(this.currentAngle>=50.5&&this.currentAngle<65.35)selfPlayerDataController.setSelectedSpinPortion("Lose Spine"),selfPlayerDataController.sendData(),this.onLoseSpin();else if(this.currentAngle>=65.35&&this.currentAngle<90.15)selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp();else if(this.currentAngle>=90.15&&this.currentAngle<118.5)selfPlayerDataController.setSelectedSpinPortion("1"),selfPlayerDataController.sendData(),this.onAdditionPoint(1),this.resetCoinControls();else if(this.currentAngle>=118.5&&this.currentAngle<143.8)selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x5()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X5"),selfPlayerDataController.sendData(),this.onMultiplyPoint(5),this.resetCoinControls());else if(this.currentAngle>=143.8&&this.currentAngle<172)selfLevelsController.getCoinsUnlocked()?this.onZapptaCoinsSlice():(selfUicontroller.setMessagePopupTxt("SLICE LOCKED. YOU CAN UNLOCK IT ONCE YOU REACH 5,000 POINTS. SPIN AGAIN.",3500),this.onLockedSlice()),this.resetCoinControls(),window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3);else if(this.currentAngle>=172&&this.currentAngle<194.5)selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x10()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X10"),selfPlayerDataController.sendData(),this.onMultiplyPoint(10),this.resetCoinControls());else if(this.currentAngle>=194.5&&this.currentAngle<222.5)selfPlayerDataController.setSelectedSpinPortion("3"),selfPlayerDataController.sendData(),this.onAdditionPoint(3),this.resetCoinControls();else if(this.currentAngle>=222.5&&this.currentAngle<244.7)selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x20()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X20"),selfPlayerDataController.sendData(),this.onMultiplyPoint(20),this.resetCoinControls());else if(this.currentAngle>=244.7&&this.currentAngle<272.6){if(!selfLevelsController.getPowerWandUnlocked())return selfUicontroller.setMessagePopupTxt("SLICE LOCKED. UNLOCKS AT LEVEL 3 — SPIN AGAIN",3500),this.onLockedSlice(),this.resetCoinControls(),void window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3);this.onWandWon(),selfSoundController.playWandSound(),this.resetCoinControls(),window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3),window.setTimeout(function(){selfGameController.getWheel1TutorialDone()||(selfUicontroller.enableWandPopUp(),selfWandTutorialController.setInitialData())}.bind(this),2500)}else this.currentAngle>=272.6&&this.currentAngle<289.5?selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x40()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X40"),selfPlayerDataController.sendData(),this.onMultiplyPoint(40),this.resetCoinControls()):this.currentAngle>=289.5&&this.currentAngle<317.4?(selfLevelsController.getWildSpinUnlocked()?(selfGameController.enableX200Slices(!0),this.isX200Got=!0):(selfUicontroller.setMessagePopupTxt("SLICE LOCKED. UNLOCKS AT LEVEL 4 — SPIN AGAIN",3500),this.onLockedSlice()),this.resetCoinControls(),window.setTimeout(function(){selfUicontroller.enableSpinButton()}.bind(this),3e3)):this.currentAngle>=317.4&&this.currentAngle<331.5?selfGameController.getX200Enabled()?(selfPlayerDataController.setSelectedSpinPortion("X200"),selfPlayerDataController.sendData(),this.onMultiplyPoint(200),this.resetCoinControls()):selfWandController.getWheel1x80()?(selfPlayerDataController.setSelectedSpinPortion("Power Up"),selfPlayerDataController.sendData(),this.onPowerUp()):(selfPlayerDataController.setSelectedSpinPortion("X80"),selfPlayerDataController.sendData(),this.onMultiplyPoint(80),this.resetCoinControls()):this.currentAngle>=331.5&&this.currentAngle<359.6&&(selfPlayerDataController.setSelectedSpinPortion("6"),selfPlayerDataController.sendData(),this.onAdditionPoint(6),this.resetCoinControls());!this.isX200Got&&selfGameController.getX200Enabled()&&window.setTimeout(function(){selfGameController.enableX200Slices(!1)}.bind(this),3500),selfGameController.getIsFreeSpin()&&1==selfPlayerDataController.CurrentWheelNo&&selfGameController.setIsFreeSpin(!1),this.app.fire("ressetWands")}},WheelSpinController.prototype.checkWheel2=function(){selfGameController.shouldMoveToMegaWheelWheel?selfGameController.enableMegaWheel():(this.currentAngle=this.angle%360,this.currentAngle>=359.6||this.currentAngle>=0&&this.currentAngle<11?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=11&&this.currentAngle<39.25?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):this.currentAngle>=39.25&&this.currentAngle<50.5?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=50.5&&this.currentAngle<78.75?selfWandController.getWheel2x160()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X160"),selfPlayerDataController.sendData(),this.onMultiplyPoint(160),this.enableFirstWheel()):this.currentAngle>=78.75&&this.currentAngle<90.15?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=90.15&&this.currentAngle<118.5?selfWandController.getWheel2x5()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X5"),selfPlayerDataController.sendData(),this.onMultiplyPoint(5),this.enableFirstWheel()):this.currentAngle>=118.5&&this.currentAngle<143.8?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=143.8&&this.currentAngle<172?selfWandController.getWheel2x10()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X10"),selfPlayerDataController.sendData(),this.onMultiplyPoint(10),this.enableFirstWheel()):this.currentAngle>=172&&this.currentAngle<194.5?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=194.5&&this.currentAngle<222.5?selfWandController.getWheel2x20()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X20"),selfPlayerDataController.sendData(),this.onMultiplyPoint(20),this.enableFirstWheel()):this.currentAngle>=222.5&&this.currentAngle<244.7?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=244.7&&this.currentAngle<272.6?selfWandController.getWheel2x40()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X40"),selfPlayerDataController.sendData(),this.onMultiplyPoint(40),this.enableFirstWheel()):this.currentAngle>=272.6&&this.currentAngle<289.5?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=289.5&&this.currentAngle<317.4?selfWandController.getWheel2x80()?(selfPlayerDataController.setSelectedSpinPortion("Mega Spin"),selfPlayerDataController.sendData(),this.onMegaWheel()):(selfPlayerDataController.setSelectedSpinPortion("X80"),selfPlayerDataController.sendData(),this.onMultiplyPoint(80),this.enableFirstWheel()):this.currentAngle>=317.4&&this.currentAngle<331.5?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=331.5&&this.currentAngle<359.6&&(selfPlayerDataController.setSelectedSpinPortion("Jackpot (x1000)"),selfSoundController.playSpecialWheelSound(),selfPlayerDataController.sendData(),this.onMultiplyPoint(1e3),this.enableFirstWheel()),selfGameController.getIsFreeSpin()&&2==selfPlayerDataController.CurrentWheelNo&&selfGameController.setIsFreeSpin(!1),this.app.fire("ressetWands"))},WheelSpinController.prototype.checkWheel3=function(){this.currentAngle=this.angle%360,selfGameController.shouldMoveToSuperMegaWheeltWheel?this.onSuperMegaWheel():this.currentAngle>=316||this.currentAngle>=0&&this.currentAngle<22.5?(selfPlayerDataController.setSelectedSpinPortion("Lose Spin"),selfPlayerDataController.sendData(),this.onLoseSpin(),this.enableFirstWheel()):this.currentAngle>=22.5&&this.currentAngle<90||this.currentAngle>=157.5&&this.currentAngle<224.7?(selfPlayerDataController.setSelectedSpinPortion("Spin Again"),selfPlayerDataController.sendData(),this.onSpinAgain()):this.currentAngle>=90&&this.currentAngle<157.5?(selfPlayerDataController.setSelectedSpinPortion("Jackpot(X1000)"),selfPlayerDataController.sendData(),this.onMultiplyPoint(1e3),selfSoundController.playSpecialWheelSound(),this.enableFirstWheel()):this.currentAngle>=224.7&&this.currentAngle<291.7?(selfPlayerDataController.setSelectedSpinPortion("Big Risk, Huge Reward"),selfPlayerDataController.sendData(),this.onSuperMegaWheel()):this.currentAngle>=291.7&&this.currentAngle<316&&(selfPlayerDataController.setSelectedSpinPortion("Mega Jackpot(X10000)"),selfPlayerDataController.sendData(),selfSoundController.playSpecialWheelSound(),this.onMultiplyPoint(1e4),this.enableFirstWheel())},WheelSpinController.prototype.checkWheel4=function(){this.currentAngle=this.angle%360,this.currentAngle>=.5&&this.currentAngle<119.6?(selfPlayerDataController.setSelectedSpinPortion("Even  (Keep Your Score)"),selfPlayerDataController.sendData(),selfGameController.multiplyTotalScore(1),selfUicontroller.setMessagePopupTxt("Keep Your Score",2e3),this.enableFirstWheel()):this.currentAngle>=119.6&&this.currentAngle<240?(selfPlayerDataController.setSelectedSpinPortion("Lose 50% of Score"),selfPlayerDataController.sendData(),selfGameController.multiplyTotalScore(.5),selfUicontroller.setMessagePopupTxt("Lose 50% of Your Score",2e3),this.enableFirstWheel()):(this.currentAngle<.5||this.currentAngle>=240&&this.currentAngle<360)&&(selfPlayerDataController.setSelectedSpinPortion("Double Your Score"),selfPlayerDataController.sendData(),selfGameController.multiplyTotalScore(2),selfSoundController.playSpecialWheelSound(),selfUicontroller.setMessagePopupTxt("Double Your Score",2e3),this.enableFirstWheel())},WheelSpinController.prototype.onLoseSpin=function(){this.pointsWon=0,selfUicontroller.setMessagePopupTxt("Spin Lost ",2e3),selfGameController.setPointsWon(this.pointsWon),1==selfPlayerDataController.CurrentWheelNo?window.setTimeout(function(){selfGameController.resetSpinControls(),selfGameController.resetCoinControls()}.bind(this),2e3):this.resetControls()},WheelSpinController.prototype.onStrike=function(){selfGameController.onStrike(),selfPlayerDataController.strikesCount<3&&window.setTimeout(function(){selfGameController.resetSpinControls(),selfGameController.resetCoinControls()}.bind(this),2e3)},WheelSpinController.prototype.onPowerUp=function(){selfGameController.enablePowerupWheel(),selfSoundController.playSpecialWheelSound()},WheelSpinController.prototype.onMegaWheel=function(){selfSoundController.playSpecialWheelSound(),selfGameController.enableMegaWheel()},WheelSpinController.prototype.onSuperMegaWheel=function(){selfSoundController.playSpecialWheelSound(),selfGameController.enableChallengePopup()},WheelSpinController.prototype.onMultiplyPoint=function(e){this.pointsWon=e*selfGameController.getCoinsOnSpin(),selfGameController.onPointsWon(this.pointsWon),selfUicontroller.addCoinCountText(" x "+e),this.app.fire("onPointsWon",this.pointsWon)},WheelSpinController.prototype.onAdditionPoint=function(e){this.pointsWon=e+selfGameController.getCoinsOnSpin(),selfGameController.onPointsWon(this.pointsWon),selfUicontroller.addCoinCountText(" + "+e),this.app.fire("onPointsWon",this.pointsWon)},WheelSpinController.prototype.onWandWon=function(){let e=selfUicontroller.getCurrentWandCount();selfGameController.onWandsWon(e)},WheelSpinController.prototype.onMegaWandWon=function(){let e=selfUicontroller.getCurrentWandCount();selfGameController.onMegaWandsWon(e)},WheelSpinController.prototype.onZapptaCoinsSlice=function(){selfUicontroller.enableZapptaGiftPopUp()},WheelSpinController.prototype.onLockedSlice=function(){window.setTimeout(function(){selfGameController.setIsFreeSpin(!0)}.bind(this),1e3)},WheelSpinController.prototype.onSpinAgain=function(e){selfUicontroller.setMessagePopupTxt("Spin Again ",2e3),window.setTimeout(function(){selfGameController.resetSpinControls()}.bind(this),2e3)},WheelSpinController.prototype.resetCoinControls=function(){window.setTimeout(function(){selfGameController.resetCoinControls()}.bind(this),3e3)},WheelSpinController.prototype.resetControls=function(){console.log("wheelcontroller:resetControls after 4 seconds"),window.setTimeout(function(){selfGameController.resetSpinControls()}.bind(this),4e3)},WheelSpinController.prototype.enableFirstWheel=function(){window.setTimeout(function(){selfGameController.enableFirstWheel()}.bind(this),4e3)};var WatchoutPopupController=pc.createScript("watchoutPopupController");WatchoutPopupController.attributes.add("closeBtn",{type:"entity"}),WatchoutPopupController.attributes.add("retryBtn",{type:"entity"}),WatchoutPopupController.attributes.add("strikesLeftTxt",{type:"entity"}),WatchoutPopupController.attributes.add("strikesIcon",{type:"entity",array:!0}),WatchoutPopupController.prototype.initialize=function(){selfWatchoutPopupController=this,this.closeBtn.button.on("click",this.onCloseBtn,this),this.retryBtn.button.on("click",this.onCloseBtn,this)},WatchoutPopupController.prototype.onCloseBtn=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},WatchoutPopupController.prototype.enableStrikes=function(){for(let t=0;t<3;t++)this.strikesIcon[t].enabled=!1,t<selfPlayerDataController.strikesCount&&(this.strikesIcon[t].enabled=!0);1==selfPlayerDataController.strikesCount?this.strikesLeftTxt.element.text="YOU HAVE TWO STRIKES LEFT":this.strikesLeftTxt.element.text="YOU HAVE ONE STRIKE LEFT",setTimeout(this.playStrikeSound,1e3,this)},WatchoutPopupController.prototype.playStrikeSound=function(){selfSoundController.playStrikeSound(),selfSoundController.playPopoutSound(),selfSoundController.playPopupSlideSound()};var FailedPopupController=pc.createScript("failedPopupController");FailedPopupController.attributes.add("closeBtn",{type:"entity"}),FailedPopupController.attributes.add("restartBtn",{type:"entity"}),FailedPopupController.attributes.add("scoreText",{type:"entity"}),FailedPopupController.prototype.initialize=function(){selfFailedPopupController=this,this.closeBtn.button.on("click",this.onCloseBtn,this),this.restartBtn.button.on("click",this.onRestartBtn,this)},FailedPopupController.prototype.onCloseBtn=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},FailedPopupController.prototype.onRestartBtn=function(){selfSoundController.playBtnClickSound(),selfGameController.restartGame(),this.entity.enabled=!1},FailedPopupController.prototype.setScore=function(t){this.scoreText.element.text=t,setTimeout(this.playStrikeSound,1e3,this)},FailedPopupController.prototype.playStrikeSound=function(){selfSoundController.playStrikeSound(),selfSoundController.playPopoutSound()};var ChallengePopupController=pc.createScript("challengePopupController");ChallengePopupController.attributes.add("noThanksBtn",{type:"entity"}),ChallengePopupController.attributes.add("yesBtn",{type:"entity"}),ChallengePopupController.attributes.add("scoreText",{type:"entity"}),ChallengePopupController.prototype.initialize=function(){selfChallengePopupController=this,this.noThanksBtn.button.on("click",this.onNoThanks,this),this.yesBtn.button.on("click",this.onYesBtn,this)},ChallengePopupController.prototype.onNoThanks=function(){selfGameController.enableFirstWheel(),selfSoundController.playBtnClickSound(),this.entity.enabled=!1},ChallengePopupController.prototype.onYesBtn=function(){selfGameController.enableSuperMegaWheel(),selfSoundController.playBtnClickSound(),this.entity.enabled=!1},ChallengePopupController.prototype.setScore=function(e){this.scoreText.element.text=e,setTimeout(this.playStrikeSound,1e3,this)},ChallengePopupController.prototype.playStrikeSound=function(){selfSoundController.playStrikeSound(),selfSoundController.playPopoutSound(),selfSoundController.playPopupSlideSound()};var WinPopupController=pc.createScript("winPopupController");WinPopupController.attributes.add("closeBtn",{type:"entity"}),WinPopupController.attributes.add("claimBtn",{type:"entity"}),WinPopupController.attributes.add("scoreText",{type:"entity"}),WinPopupController.prototype.initialize=function(){selfWinPopupController=this,this.closeBtn.button.on("click",this.onCloseBtn,this),this.claimBtn.button.on("click",this.onCloseBtn,this)},WinPopupController.prototype.onCloseBtn=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},WinPopupController.prototype.onClaimBtn=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},WinPopupController.prototype.setScore=function(t){this.scoreText.element.text=t,setTimeout(this.playStrikeSound,1e3,this)},WinPopupController.prototype.playStrikeSound=function(){selfSoundController.playStrikeSound(),selfSoundController.playPopoutSound(),selfSoundController.playPopupSlideSound()};var StopperController=pc.createScript("stopperController");StopperController.prototype.initialize=function(){this.mindistance=10},StopperController.prototype.update=function(e){selfGameController.getIsSpinning()&&this.entity.getPosition().distance(selfNeedleController.entity.getPosition())<selfGameController.stopperMinDistance&&selfNeedleController.entity.getEulerAngles().z>-60&&selfNeedleController.onStopperCollision()};var FlareAnimationController=pc.createScript("flareAnimationController");FlareAnimationController.prototype.initialize=function(){this.app.on("SpinStartedEvent",this.onSpinStarted,this),this.app.on("SpinEndedEvent",this.onSpinEnded,this)},FlareAnimationController.prototype.update=function(t){this.entity.element.enabled=this.entity.parent.parent.button.active},FlareAnimationController.prototype.onSpinStarted=function(){},FlareAnimationController.prototype.onSpinEnded=function(){};var TweenPosition=pc.createScript("tweenPosition");TweenPosition.attributes.add("duration",{type:"number",default:1}),TweenPosition.attributes.add("easing",{type:"string",default:"Linear"}),TweenPosition.attributes.add("delay",{type:"number",default:0}),TweenPosition.attributes.add("loop",{type:"boolean",default:!0}),TweenPosition.attributes.add("yoyo",{type:"boolean",default:!1}),TweenPosition.attributes.add("repeat",{type:"number",default:2}),TweenPosition.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenPosition.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalPosition(-400,66,0),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(new pc.Vec3(382,66,0),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};pc.extend(pc,function(){var TweenManager=function(t){this._app=t,this._tweens=[],this._add=[]};TweenManager.prototype={add:function(t){return this._add.push(t),t},update:function(t){for(var i=0,e=this._tweens.length;i<e;)this._tweens[i].update(t)?i++:(this._tweens.splice(i,1),e--);if(this._add.length){for(let t=0;t<this._add.length;t++)this._tweens.indexOf(this._add[t])>-1||this._tweens.push(this._add[t]);this._add.length=0}}};var Tween=function(t,i,e){pc.events.attach(this),this.manager=i,e&&(this.entity=null),this.time=0,this.complete=!1,this.playing=!1,this.stopped=!0,this.pending=!1,this.target=t,this.duration=0,this._currentDelay=0,this.timeScale=1,this._reverse=!1,this._delay=0,this._yoyo=!1,this._count=0,this._numRepeats=0,this._repeatDelay=0,this._from=!1,this._slerp=!1,this._fromQuat=new pc.Quat,this._toQuat=new pc.Quat,this._quat=new pc.Quat,this.easing=pc.Linear,this._sv={},this._ev={}},_parseProperties=function(t){var i;return t instanceof pc.Vec2?i={x:t.x,y:t.y}:t instanceof pc.Vec3?i={x:t.x,y:t.y,z:t.z}:t instanceof pc.Vec4||t instanceof pc.Quat?i={x:t.x,y:t.y,z:t.z,w:t.w}:t instanceof pc.Color?(i={r:t.r,g:t.g,b:t.b},void 0!==t.a&&(i.a=t.a)):i=t,i};Tween.prototype={to:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this},from:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._from=!0,this},rotate:function(t,i,e,s,n,r){return this._properties=_parseProperties(t),this.duration=i,e&&(this.easing=e),s&&this.delay(s),n&&this.repeat(n),r&&this.yoyo(r),this._slerp=!0,this},start:function(){var t,i,e,s;if(this.playing=!0,this.complete=!1,this.stopped=!1,this._count=0,this.pending=this._delay>0,this._reverse&&!this.pending?this.time=this.duration:this.time=0,this._from){for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this._properties[t],this._ev[t]=this.target[t]);this._slerp&&(this._toQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z,this._fromQuat.setFromEulerAngles(i,e,s))}else{for(t in this._properties)this._properties.hasOwnProperty(t)&&(this._sv[t]=this.target[t],this._ev[t]=this._properties[t]);this._slerp&&(i=void 0!==this._properties.x?this._properties.x:this.target.x,e=void 0!==this._properties.y?this._properties.y:this.target.y,s=void 0!==this._properties.z?this._properties.z:this.target.z,void 0!==this._properties.w?(this._fromQuat.copy(this.target),this._toQuat.set(i,e,s,this._properties.w)):(this._fromQuat.setFromEulerAngles(this.target.x,this.target.y,this.target.z),this._toQuat.setFromEulerAngles(i,e,s)))}return this._currentDelay=this._delay,this.manager.add(this),this},pause:function(){this.playing=!1},resume:function(){this.playing=!0},stop:function(){this.playing=!1,this.stopped=!0},delay:function(t){return this._delay=t,this.pending=!0,this},repeat:function(t,i){return this._count=0,this._numRepeats=t,this._repeatDelay=i||0,this},loop:function(t){return t?(this._count=0,this._numRepeats=1/0):this._numRepeats=0,this},yoyo:function(t){return this._yoyo=t,this},reverse:function(){return this._reverse=!this._reverse,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1]._chained=arguments[t]:this._chained=arguments[t];return this},update:function(t){if(this.stopped)return!1;if(!this.playing)return!0;if(!this._reverse||this.pending?this.time+=t*this.timeScale:this.time-=t*this.timeScale,this.pending){if(!(this.time>this._currentDelay))return!0;this._reverse?this.time=this.duration-(this.time-this._currentDelay):this.time-=this._currentDelay,this.pending=!1}var i=0;(!this._reverse&&this.time>this.duration||this._reverse&&this.time<0)&&(this._count++,this.complete=!0,this.playing=!1,this._reverse?(i=this.duration-this.time,this.time=0):(i=this.time-this.duration,this.time=this.duration));var e,s,n=0===this.duration?1:this.time/this.duration,r=this.easing(n);for(var h in this._properties)this._properties.hasOwnProperty(h)&&(e=this._sv[h],s=this._ev[h],this.target[h]=e+(s-e)*r);if(this._slerp&&this._quat.slerp(this._fromQuat,this._toQuat,r),this.entity&&(this.entity._dirtifyLocal(),this.element&&this.entity.element&&(this.entity.element[this.element]=this.target),this._slerp&&this.entity.setLocalRotation(this._quat)),this.fire("update",t),this.complete){var a=this._repeat(i);return a?this.fire("loop"):(this.fire("complete",i),this.entity&&this.entity.off("destroy",this.stop,this),this._chained&&this._chained.start()),a}return!0},_repeat:function(t){if(this._count<this._numRepeats){if(this._reverse?this.time=this.duration-t:this.time=t,this.complete=!1,this.playing=!0,this._currentDelay=this._repeatDelay,this.pending=!0,this._yoyo){for(var i in this._properties){var e=this._sv[i];this._sv[i]=this._ev[i],this._ev[i]=e}this._slerp&&(this._quat.copy(this._fromQuat),this._fromQuat.copy(this._toQuat),this._toQuat.copy(this._quat))}return!0}return!1}};var BounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},BounceIn=function(t){return 1-BounceOut(1-t)};return{TweenManager:TweenManager,Tween:Tween,Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SineIn:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},SineOut:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},SineInOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){var i=1.70158;return t*t*((i+1)*t-i)},BackOut:function(t){var i=1.70158;return--t*t*((i+1)*t+i)+1},BackInOut:function(t){var i=2.5949095;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)},BounceIn:BounceIn,BounceOut:BounceOut,BounceInOut:function(t){return t<.5?.5*BounceIn(2*t):.5*BounceOut(2*t-1)+.5},ElasticIn:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/.4))},ElasticOut:function(t){var i,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-i)*(2*Math.PI)/.4)+1)},ElasticInOut:function(t){var i,e=.1,s=.4;return 0===t?0:1===t?1:(!e||e<1?(e=1,i=.1):i=s*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-i)*(2*Math.PI)/s)*.5+1)}}}()),function(){pc.AppBase.prototype.addTweenManager=function(){this._tweenManager=new pc.TweenManager(this),this.on("update",(function(t){this._tweenManager.update(t)}))},pc.AppBase.prototype.tween=function(t){return new pc.Tween(t,this._tweenManager)},pc.Entity.prototype.tween=function(t,i){var e=this._app.tween(t);return e.entity=this,this.once("destroy",e.stop,e),i&&i.element&&(e.element=i.element),e};var t=pc.AppBase.getApplication();t&&t.addTweenManager()}();var TweenPositionCustom=pc.createScript("tweenPositionCustom");TweenPositionCustom.attributes.add("duration",{type:"number",default:1}),TweenPositionCustom.attributes.add("easing",{type:"string",default:"Linear"}),TweenPositionCustom.attributes.add("delay",{type:"number",default:0}),TweenPositionCustom.attributes.add("loop",{type:"boolean",default:!0}),TweenPositionCustom.attributes.add("yoyo",{type:"boolean",default:!1}),TweenPositionCustom.attributes.add("repeat",{type:"number",default:2}),TweenPositionCustom.attributes.add("from",{type:"vec3",default:[0,0,0]}),TweenPositionCustom.attributes.add("destination",{type:"vec3",default:[0,0,0]}),TweenPositionCustom.attributes.add("shouldTweenOnEnable",{type:"boolean",default:!1}),TweenPositionCustom.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this),this.shouldTweenOnEnable&&this.on("state",this.onStateChanged,this)},TweenPositionCustom.prototype.onStateChanged=function(t){t&&this.reset()},TweenPositionCustom.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalPosition(this.from),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(this.destination,this.duration,pc[this.easing]).loop(this.loop).delay(this.delay).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()},TweenPositionCustom.prototype.stopTween=function(){this.tween&&this.tween.stop()},TweenPositionCustom.prototype.setFrom=function(t){this.from=t},TweenPositionCustom.prototype.setTo=function(t){this.to=t};var TweenScale=pc.createScript("tweenScale");TweenScale.attributes.add("duration",{type:"number",default:1}),TweenScale.attributes.add("easing",{type:"string",default:"Linear"}),TweenScale.attributes.add("delay",{type:"number",default:0}),TweenScale.attributes.add("loop",{type:"boolean",default:!0}),TweenScale.attributes.add("yoyo",{type:"boolean",default:!1}),TweenScale.attributes.add("repeat",{type:"number",default:2}),TweenScale.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenScale.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalScale(0,0,0),this.tween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(1,1,1),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var TweenRotation=pc.createScript("tweenRotation");TweenRotation.attributes.add("duration",{type:"number",default:1}),TweenRotation.attributes.add("easing",{type:"string",default:"Linear"}),TweenRotation.attributes.add("delay",{type:"number",default:0}),TweenRotation.attributes.add("loop",{type:"boolean",default:!0}),TweenRotation.attributes.add("yoyo",{type:"boolean",default:!1}),TweenRotation.attributes.add("repeat",{type:"number",default:2}),TweenRotation.prototype.initialize=function(){this.reset(),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},TweenRotation.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalRotation(0,0,4),this.tween=this.entity.tween(this.entity.getLocalRotation()).rotate(new pc.Vec3(0,0,-4),this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var ScaleUpcustom=pc.createScript("scaleUpcustom");ScaleUpcustom.attributes.add("duration",{type:"number",default:1}),ScaleUpcustom.attributes.add("easing",{type:"string",default:"Linear"}),ScaleUpcustom.attributes.add("delay",{type:"number",default:0}),ScaleUpcustom.attributes.add("loop",{type:"boolean",default:!0}),ScaleUpcustom.attributes.add("yoyo",{type:"boolean",default:!1}),ScaleUpcustom.attributes.add("repeat",{type:"number",default:2}),ScaleUpcustom.attributes.add("from",{type:"vec3",default:[0,0,0]}),ScaleUpcustom.attributes.add("destination",{type:"vec3",default:[0,0,0]}),ScaleUpcustom.attributes.add("ShouldDisableAfterScale",{type:"boolean",default:!0}),ScaleUpcustom.prototype.initialize=function(){this.reset(),this.on("state",this.onStateChanged,this),this.on("attr:duration",(function(t){this.tween.duration=t}),this),this.on("attr:easing",this.reset,this),this.on("attr:delay",this.reset,this),this.on("attr:loop",this.reset,this),this.on("attr:yoyo",this.reset,this),this.on("attr:repeat",this.reset,this)},ScaleUpcustom.prototype.onStateChanged=function(t){t&&this.reset()},ScaleUpcustom.prototype.reset=function(){this.tween&&this.tween.stop(),this.entity.setLocalScale(this.from),this.tween=this.entity.tween(this.entity.getLocalScale()).to(this.destination,this.duration,pc[this.easing]).delay(this.delay).loop(this.loop).yoyo(this.yoyo),this.loop||this.tween.repeat(this.repeat),this.tween.start()};var EnableEffectController=pc.createScript("enableEffectController");EnableEffectController.attributes.add("enableDuration",{type:"number",default:1}),EnableEffectController.attributes.add("disableDuration",{type:"number",default:1}),EnableEffectController.attributes.add("isEnabledAtStart",{type:"boolean",default:!0}),EnableEffectController.attributes.add("isEnabledAtEnd",{type:"boolean",default:!0}),EnableEffectController.prototype.initialize=function(){this.timer=0,this.isSpinning=!1,this.app.on("SpinStartedEvent",this.onSpinStarted,this),this.app.on("SpinEndedEvent",this.onSpinEnded,this)},EnableEffectController.prototype.update=function(t){this.isSpinning&&(this.timer+=t,this.isEnabled&&this.timer>=this.enableDuration?(this.timer=0,this.isEnabled=!1,this.entity.element.enabled=this.isEnabled):!this.isEnabled&&this.timer>=this.disableDuration&&(this.timer=0,this.isEnabled=!0,this.entity.element.enabled=this.isEnabled))},EnableEffectController.prototype.onSpinStarted=function(){this.timer=0,this.isEnabled=this.isEnabledAtStart,this.entity.element.enabled=this.isEnabled,this.isSpinning=!0},EnableEffectController.prototype.onSpinEnded=function(){this.isSpinning=!1,this.entity.element.enabled=this.isEnabledAtEnd};var ApimainController=pc.createScript("apimainController");ApimainController.prototype.initialize=function(){selfAPIMainController=this,this.AuthorizationToken="Bearer WIEQvIRW/M5TsLvD1CpuoKKWtItbPLnoUyU/rD+2/AI=",this.CookieSessionID="zapta_session=rjet89joki81f7tq26nu7sajrq1vqdtq"},ApimainController.prototype.callForFetchProductDetails=function(e){var t=new FormData;t.append("wheel",e);var a=new XMLHttpRequest;a.withCredentials=!0,a.addEventListener("readystatechange",(function(){if(4===this.readyState){console.log(this.responseText);const e=JSON.parse(this.responseText);selfAPIAdapter.updateProductDetails(e)}})),a.open("POST","https://zappta-launch.com/api/product/details"),a.send(t)},ApimainController.prototype.callForLoadLeaderBoardDetails=function(e,t,a){var n=new FormData;n.append("pid",e),n.append("store_id",t),n.append("com_id",a);var p=new XMLHttpRequest;p.withCredentials=!0,p.addEventListener("readystatechange",(function(){if(4===this.readyState){const e=JSON.parse(this.responseText);selfAPIAdapter.updateLeaderBoardDetails(e)}})),p.open("POST","https://zappta-launch.com/api/leaderboard"),p.send(n)},ApimainController.prototype.callForPushPlayResult=function(e,t,a,n,p,o,r,i,s,d,l,c){var h=new FormData;h.append("wheel_value",e),h.append("coins_played",t),h.append("wheel",a),h.append("pid",n),h.append("store_id",p),h.append("com_id",o),h.append("wand_consumed",r),h.append("wand_gained",i),h.append("power_wand_gained",s),h.append("power_wand_consumed",d),h.append("level_no",l),h.append("zappta_coins",c);var u=new XMLHttpRequest;u.withCredentials=!0,u.addEventListener("readystatechange",(function(){4===this.readyState&&selfAPIAdapter.updatePlayResultDetails()})),u.open("POST","https://zappta-launch.com/api/play/save/result"),u.send(h)},ApimainController.prototype.callForGetWheelData=function(e){var t=new XMLHttpRequest;t.withCredentials=!0,t.addEventListener("readystatechange",(function(){this.readyState})),t.open("POST","https://zappta-launch.com/api/wheel/"+e),t.send()},ApimainController.prototype.callForResetPlayerData=function(e){var t=new XMLHttpRequest;t.withCredentials=!0,t.addEventListener("readystatechange",(function(){4===this.readyState&&selfAPIAdapter.callForUpdateDataOnReset()})),t.open("POST","https://zappta-launch.com/api/reset/player/"+e),t.send()};var PlayerDataController=pc.createScript("playerDataController");PlayerDataController.attributes.add("DefaultProfileImage",{type:"asset",assetType:"texture"}),PlayerDataController.attributes.add("LoadedProductImage",{type:"asset",assetType:"texture"}),PlayerDataController.attributes.add("DefaultBrandImage",{type:"asset",assetType:"texture"}),PlayerDataController.attributes.add("LoadedBrandImage",{type:"asset",assetType:"texture"}),PlayerDataController.prototype.initialize=function(){selfPlayerDataController=this,this.CurrentWheelNo=1,this.Pid="294",this.Store_ID="46",this.Com_ID="2",this.CurrentWheelValue="",this.CoinsPlayedInTurn=0,this.TotalCoinsPlayed=0,this.PointsWonInTurn=0,this.WandsWonInTurn=0,this.WandsConsumedInTurn=0,this.TotalWandsWon=0,this.MegaWandsWonInTurn=0,this.MegaWandsConsumedInTurn=0,this.TotalMegaWandsWon=0,this.ZapptaWonInTurn=0,this.totalScore=0,this.strikesCount=0,this.IsProductImageLoaded=!1,this.IsBrandImageLoaded=!1,this.LevelNo=1,this.CurrntBalance=4e3,this.ProductName="ADIDAS MEN'S HOODIE",this.ProductCoverUrl="",this.ProductStoreLogoUrl="",this.ProductPrice="500",this.CampaignStartDate="",this.CampaignEndDate="2023-01-29",this.PlayerID=19,this.RemainingSeconds=1234},PlayerDataController.prototype.setSelectedSpinPortion=function(t){this.CurrentWheelValue=t},PlayerDataController.prototype.sendData=function(){selfAPIAdapter.callForPushPlayResult(this.CurrentWheelValue,this.CoinsPlayedInTurn,this.CurrentWheelNo,this.Pid,this.Store_ID,this.Com_ID,this.WandsConsumedInTurn,this.WandsWonInTurn,this.MegaWandsWonInTurn,this.MegaWandsConsumedInTurn,this.LevelNo,this.ZapptaWonInTurn)},PlayerDataController.prototype.UpdateProductDetails=function(t){this.Pid=t.product.pid,this.Store_ID=t.product.store_id,this.Com_ID=t.product.com_id,this.CurrntBalance=parseInt(t.balance);var e=t.product.pname;e.length>26&&(e=e.substring(0,26)+"..."),this.ProductName=e,this.ProductCoverUrl=t.product.pcover,this.ProductStoreLogoUrl=t.product.store_logo,this.ProductPrice=t.product.final_price,this.CampaignStartDate=t.product.compain_s_date,this.CampaignEndDate=t.product.compain_e_date,this.strikesCount=parseInt(t.total_stikes_attend),this.strikesCount>=3&&selfGameController.onStrikesCompleted(),this.totalScore=parseInt(t.total_score),this.TotalCoinsPlayed=parseInt(t.coins_played),this.PlayerID=t.player_id,this.TotalWandsWon=parseInt(t.wand_count),this.LevelNo=parseInt(t.level_number),this.TotalMegaWandsWon=parseInt(t.power_wand_count),this.loadRemoteImage(this.ProductCoverUrl),this.loadRemoteBrandImage(this.ProductStoreLogoUrl),this.UpdateHUD_ForProductDetails(),this.CallForLeaderboard(),this.UpdateLevelNo()},PlayerDataController.prototype.UpdateLevelNo=function(){selfLevelsController.setLevelData()},PlayerDataController.prototype.CallForLeaderboard=function(){selfAPIAdapter.callForLoadLeaderBoardDetails(this.Pid,this.Store_ID,this.Com_ID)},PlayerDataController.prototype.CallForResetData=function(){selfAPIAdapter.callForResetPlayerData(this.PlayerID)},PlayerDataController.prototype.setLevelNo=function(t){this.LevelNo=t},PlayerDataController.prototype.CoverImageLoadedUpdateUI=function(){this.CallForUpdateProductImage()},PlayerDataController.prototype.BrandImageLoadedUpdateUI=function(){this.CallForUpdateBrandImage()},PlayerDataController.prototype.CallForUpdateProductImage=function(){!0===this.IsProductImageLoaded?selfUicontroller.setProductImage(this.LoadedProductImage):selfUicontroller.setProductImage(this.DefaultProfileImage)},PlayerDataController.prototype.CallForUpdateBrandImage=function(){!0===this.IsBrandImageLoaded?selfUicontroller.setCompanyImage(this.LoadedBrandImage):selfUicontroller.setCompanyImage(this.DefaultBrandImage)},PlayerDataController.prototype.UpdateHUD_ForProductDetails=function(){selfUicontroller.setTotalScoreTxt(this.totalScore),selfUicontroller.setStrikesCount(this.strikesCount),selfUicontroller.setTotalBalanceTxt(this.CurrntBalance),selfUicontroller.setProductPrice(this.ProductPrice),selfUicontroller.setProductName(this.ProductName),selfUicontroller.setTotalWandsText(this.TotalWandsWon),selfUicontroller.setTotalMegaWandsText(this.TotalMegaWandsWon);var t=new Date(this.CampaignEndDate),e=new Date;this.RemainingSeconds=Math.abs(t-e)/1e3,selfGameController.startGameEndTimer()},PlayerDataController.prototype.loadRemoteImage=function(t){this.IsProductImageLoaded=!1;var e=new Image;let a=t;e.crossOrigin="anonymous",e.onload=function(){var t=new pc.Texture(selfPlayerDataController.app.graphicsDevice);t.setSource(e),selfPlayerDataController.LoadedProductImage.resource=t,selfPlayerDataController.IsProductImageLoaded=!0,selfPlayerDataController.CoverImageLoadedUpdateUI()},e.src=a},PlayerDataController.prototype.loadRemoteBrandImage=function(t){this.IsBrandImageLoaded=!1;var e=new Image;let a=t;e.crossOrigin="anonymous",e.onload=function(){var t=new pc.Texture(selfPlayerDataController.app.graphicsDevice);t.setSource(e),selfPlayerDataController.LoadedBrandImage.resource=t,selfPlayerDataController.IsBrandImageLoaded=!0,selfPlayerDataController.BrandImageLoadedUpdateUI()},e.src=a};var Apiadapter=pc.createScript("apiadapter");Apiadapter.prototype.initialize=function(){selfAPIAdapter=this,setTimeout(function(){this.callForFetchProductDetails("1")}.bind(this),100)},Apiadapter.prototype.callForGetWheelData=function(t){selfAPIMainController.callForGetWheelData(t)},Apiadapter.prototype.callForFetchProductDetails=function(t){selfAPIMainController.callForFetchProductDetails(t)},Apiadapter.prototype.updateProductDetails=function(t){null!==t&&null!==t.pid&&selfPlayerDataController.UpdateProductDetails(t)},Apiadapter.prototype.callForLoadLeaderBoardDetails=function(t,a,e){selfAPIMainController.callForLoadLeaderBoardDetails(t,a,e)},Apiadapter.prototype.updateLeaderBoardDetails=function(t){selfLeaderboardController.setRowsdata(t)},Apiadapter.prototype.callForPushPlayResult=function(t,a,e,l,o,r,p,i,n,d,c,s){selfAPIMainController.callForPushPlayResult(t,a,e,l,o,r,p,i,n,d,c,s)},Apiadapter.prototype.updatePlayResultDetails=function(){selfPlayerDataController.CallForLeaderboard()},Apiadapter.prototype.callForResetPlayerData=function(t){selfAPIMainController.callForResetPlayerData(t)},Apiadapter.prototype.callForUpdateDataOnReset=function(){selfGameController.UpdateDataOnResetSuccess()};var WinBgcontroller=pc.createScript("winBgcontroller");WinBgcontroller.attributes.add("winAmountTxt",{type:"entity"}),WinBgcontroller.attributes.add("pointsTarget",{type:"entity"}),WinBgcontroller.attributes.add("totalTarget",{type:"entity"}),WinBgcontroller.attributes.add("animatedCoins",{type:"entity",array:!0}),WinBgcontroller.attributes.add("animatedCoinsTotalScore",{type:"entity",array:!0}),WinBgcontroller.prototype.initialize=function(){selfWinBgcontroller=this,this.easing="CubicOut",this.duration=.5,this.targetPosY=-150,this.initialPos=this.entity.getLocalPosition().clone()},WinBgcontroller.prototype.animateIn=function(t){selfSoundController.playCoinsWonSound(),this.winAmountTxt.element.text=t,this.tween=this.entity.tween(this.entity.getLocalPosition()).to(new pc.Vec3(0,this.targetPosY,0),this.duration,pc[this.easing]),this.tween.start(),setTimeout(this.enableAnimatingCoins,1e3*this.duration,this),setTimeout(this.animateOut,3500,this)},WinBgcontroller.prototype.enableAnimatingCoins=function(){for(let t=0;t<selfWinBgcontroller.animatedCoins.length;t++)selfWinBgcontroller.animatedCoins[t].enabled=!0,selfWinBgcontroller.animatedCoins[t].script.coinAnimateController.animateToPointTarget();for(let t=0;t<selfWinBgcontroller.animatedCoinsTotalScore.length;t++)selfWinBgcontroller.animatedCoinsTotalScore[t].enabled=!0,selfWinBgcontroller.animatedCoinsTotalScore[t].script.coinAnimateController.animateToTotalTarget()},WinBgcontroller.prototype.animateOut=function(){selfSoundController.playPopupSlideSound(),selfGameController.setTotalPointsUI(),selfGameController.resetSpinControls(),selfWinBgcontroller.tween=selfWinBgcontroller.entity.tween(selfWinBgcontroller.entity.getLocalPosition()).to(new pc.Vec3(0,selfWinBgcontroller.initialPos.y,0),selfWinBgcontroller.duration,pc[selfWinBgcontroller.easing]),selfWinBgcontroller.tween.start()};var CoinAnimateController=pc.createScript("coinAnimateController");CoinAnimateController.attributes.add("offsetCurve",{type:"curve",title:"Offset Curve",curves:["x","y","z"]}),CoinAnimateController.attributes.add("duration",{type:"number"}),CoinAnimateController.prototype.initialize=function(){this.initialPos=this.entity.getLocalPosition().clone(),this.initialGlobalPos=this.entity.getPosition().clone(),this.spinOffset=10,this.shouldStartSpinning=!1,this.easing="CubicOut",this.time=0,this.isPointsCoins=!1},CoinAnimateController.prototype.update=function(t){this.entity.rotateLocal(0,this.spinOffset,0)},CoinAnimateController.prototype.animateToPointTarget=function(){var t=this.entity.getPosition(),i=selfWinBgcontroller.pointsTarget.getPosition();this.animateToTarget(t,i),this.isPointsCoins=!0},CoinAnimateController.prototype.animateToTotalTarget=function(){var t=this.entity.getPosition(),i=selfWinBgcontroller.totalTarget.getPosition();this.animateToTarget(t,i)},CoinAnimateController.prototype.animateToTarget=function(t,i){this.offsetCurve.curves[0].add(0,t.x),this.offsetCurve.curves[0].add(1,i.x),this.stopMovement=!1,this.time=0,window.setTimeout(function(){this.resetDisable()}.bind(this),1e3*(this.duration+.5));var o={x:t.x,y:t.y},e=this.app.tween(o).to({x:i.x,y:i.y},this.duration,pc[this.easing]);e.on("update",function(i){this.time+=i,this.time>this.duration&&0==this.stopMovement&&(this.time=this.duration,this.stopMovement=!0);var e=this.time/this.duration,n=this.offsetCurve.value(e);this.entity.setPosition(n[0],o.y,t.z)}.bind(this)),e.start()},CoinAnimateController.prototype.resetDisable=function(){this.isPointsCoins&&selfGameController.animatePoints(),this.entity.setLocalPosition(this.initialPos),this.isPointsCoins=!1,this.entity.enabled=!1};var SettingsController=pc.createScript("settingsController");SettingsController.attributes.add("plusBtn",{type:"entity"}),SettingsController.attributes.add("minusBtn",{type:"entity"}),SettingsController.attributes.add("crossBtn",{type:"entity"}),SettingsController.attributes.add("fillBar",{type:"entity"}),SettingsController.prototype.initialize=function(){this.soundVolume=1,this.plusBtn.button.on("click",this.onPlusBtn,this),this.minusBtn.button.on("click",this.onMinusBtn,this),this.crossBtn.button.on("click",this.onCrossBtn,this)},SettingsController.prototype.onCrossBtn=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},SettingsController.prototype.onPlusBtn=function(){this.soundVolume<=.9?(this.soundVolume+=.1,selfSoundController.setSoundVolume(this.soundVolume),this.fillBar.setLocalScale(this.soundVolume,1,1),selfSoundController.playBtnClickSound()):selfSoundController.playErrorSound()},SettingsController.prototype.onMinusBtn=function(){this.soundVolume>=.1?(this.soundVolume-=.1,selfSoundController.setSoundVolume(this.soundVolume),this.fillBar.setLocalScale(this.soundVolume,1,1),selfSoundController.playBtnClickSound()):selfSoundController.playErrorSound()};var PowerupChallengePopupController=pc.createScript("powerupChallengePopupController");PowerupChallengePopupController.attributes.add("noThanksBtn",{type:"entity"}),PowerupChallengePopupController.attributes.add("yesBtn",{type:"entity"}),PowerupChallengePopupController.prototype.initialize=function(){selfPowerupChallengePopupController=this,this.noThanksBtn.button.on("click",this.onNoThanks,this),this.yesBtn.button.on("click",this.onYesBtn,this)},PowerupChallengePopupController.prototype.onNoThanks=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1},PowerupChallengePopupController.prototype.onYesBtn=function(){selfGameController.doubleSpinCoins(),selfSoundController.playBtnClickSound(),this.entity.enabled=!1};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://zappta.com/upload/logo/1666250318_logo.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));var WandDragObj=pc.createScript("wandDragObj");WandDragObj.attributes.add("isMegaWheel",{type:"boolean",default:!1}),WandDragObj.prototype.initialize=function(){this.axis="xy",this.screen=this.entity.element.screen.screen,this.initialPos=this.entity.getLocalPosition().clone(),this.tileSelected=!1,this.col=this.entity.collision,this.entity.collision.on("triggerenter",this.onTriggerEnter,this),this.col.enabled=!1,this.touchId=-1,this.anchorPos=this.entity.getLocalPosition().clone(),this.entity.element.on("touchstart",this.onTileBtn,this),this.entity.element.on("mousedown",this.onTileBtn,this),this.app.mouse.disableContextMenu();var t=this.app.touch;this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this),t&&(t.on(pc.EVENT_TOUCHSTART,this.onMouseDown,this),t.on(pc.EVENT_TOUCHMOVE,this.onTouchMove,this),t.on(pc.EVENT_TOUCHEND,this.onMouseUp,this))},WandDragObj.prototype.onMouseMove=function(t){if(this.tileSelected){var e=this.app.graphicsDevice,o=this.entity.element.anchor.x*e.width,n=this.entity.element.anchor.y*e.height,i=1/this.screen.scale,s=window.devicePixelRatio;o/=s,n/=s,i*=s;var a="x"==this.axis||"xy"==this.axis?(t.x-o)*i:this.anchorPos.x,l="y"==this.axis||"xy"==this.axis?(-t.y+n)*i:this.anchorPos.y;a-=300,l-=300,this.entity.setLocalPosition(a,l,0)}},WandDragObj.prototype.onTouchStart=function(t){var e=t.changedTouches[0];this.touchId=e.identifier,this.startDrag(t.x,t.y),t.event.stopPropagation()},WandDragObj.prototype.onTouchMove=function(t){if(this.tileSelected&&1===t.touches.length){var e=t.changedTouches[0],o=this.app.graphicsDevice,n=this.entity.element.anchor.x*o.width,i=this.entity.element.anchor.y*o.height,s=1/this.screen.scale,a=window.devicePixelRatio;n/=a,i/=a,s*=a;var l="x"==this.axis||"xy"==this.axis?(e.x-n)*s:this.anchorPos.x,r="y"==this.axis||"xy"==this.axis?(-e.y+i)*s:this.anchorPos.y;l-=300,r-=300,this.entity.setLocalPosition(l,r,0)}},WandDragObj.prototype.onMouseDown=function(t){},WandDragObj.prototype.onMouseUp=function(t){this.tileSelected=!1,this.col.enabled=!0,window.setTimeout(function(){this.entity.setLocalPosition(this.initialPos)}.bind(this),50)},WandDragObj.prototype.onTileBtn=function(){this.canDragWand()&&(this.tileSelected=!0,this.col.enabled=!1)},WandDragObj.prototype.canDragWand=function(){return!selfGameController.getIsSpinning()&&(!!(!this.isMegaWheel&&1==selfPlayerDataController.CurrentWheelNo&&selfPlayerDataController.TotalWandsWon>=1&&selfWandController.getWheel1WandsUsedCount()<=5&&!selfGameController.getX200Enabled()&&selfLevelsController.getPowerWandUnlocked())||!!(this.isMegaWheel&&2==selfPlayerDataController.CurrentWheelNo&&!selfWandController.getHasUsedWandOnSecondWheel()<=5&&selfPlayerDataController.TotalMegaWandsWon>=1&&selfLevelsController.getMegaWandUnlocked()))},WandDragObj.prototype.onTriggerEnter=function(t){t.tags.has("xTrigger")&&(t.script.xObjController.onWandActivated(),1==selfPlayerDataController.CurrentWheelNo?(selfPlayerDataController.TotalWandsWon--,selfPlayerDataController.WandsConsumedInTurn++,selfUicontroller.setTotalWandsText(selfPlayerDataController.TotalWandsWon)):2==selfPlayerDataController.CurrentWheelNo&&(selfPlayerDataController.TotalMegaWandsWon--,selfPlayerDataController.MegaWandsConsumedInTurn++,selfUicontroller.setTotalMegaWandsText(selfPlayerDataController.TotalMegaWandsWon)))},WandDragObj.prototype.reset=function(){this.tileSelected=!1,this.col&&(this.col.enabled=!1)},WandDragObj.prototype.getLpos=function(){return this.entity.getLocalPosition()},WandDragObj.prototype.setLpos=function(t){return this.entity.setLocalPosition(t)};var XObjController=pc.createScript("xObjController");XObjController.attributes.add("powerUpSlice",{type:"entity"}),XObjController.attributes.add("id",{type:"string"}),XObjController.prototype.initialize=function(){this.app.on("ressetWands",this.resetSlice,this),this.on("destroy",(function(){this.app.off("ressetWands",this.resetSlice,this)}))},XObjController.prototype.onWandActivated=function(){this.powerUpSlice.enabled=!0,this.entity.element.enabled=!1,this.entity.collision.enabled=!1,selfWandController.onWandActivated(this.id),selfSoundController.playWandSound()},XObjController.prototype.update=function(t){},XObjController.prototype.resetSlice=function(){this.entity.enabled=!1,this.entity.enabled=!0,this.powerUpSlice.enabled=!1,this.entity.element.enabled=!0,this.entity.collision.enabled=!0,selfWandController.onWandDeactivated(this.id)};var WandController=pc.createScript("wandController");WandController.prototype.initialize=function(){selfWandController=this,this.reset(),this.app.on("ressetWands",this.reset,this),this.on("destroy",(function(){this.app.off("ressetWands",this.reset,this)}))},WandController.prototype.reset=function(){this.resetAllSlices(),this.hasUsedWandOnSecondWheel=!1,this.wheel1WandsUsed=0,this.wheel2WandsUsed=0,selfPlayerDataController.WandsConsumedInTurn=0,selfPlayerDataController.WandsWonInTurn=0,selfPlayerDataController.MegaWandsConsumedInTurn=0,selfPlayerDataController.MegaWandsWonInTurn=0},WandController.prototype.onWandActivated=function(e){2==selfPlayerDataController.CurrentWheelNo&&this.setHasUsedWandOnSecondWheel(!0),"x5"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x5(!0),this.wheel1WandsUsed++):"x10"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x10(!0),this.wheel1WandsUsed++):"x20"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x20(!0),this.wheel1WandsUsed++):"x40"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x40(!0),this.wheel1WandsUsed++):"x80"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x80(!0),this.wheel1WandsUsed++):"x160"===e&&1===selfPlayerDataController.CurrentWheelNo?(this.setWheel1x160(!0),this.wheel1WandsUsed++):"x5"===e&&2===selfPlayerDataController.CurrentWheelNo?(this.setWheel2x5(!0),this.wheel2WandsUsed++):"x10"===e&&2===selfPlayerDataController.CurrentWheelNo?(this.setWheel2x10(!0),this.wheel2WandsUsed++):"x20"===e&&2===selfPlayerDataController.CurrentWheelNo?(this.setWheel2x20(!0),this.wheel2WandsUsed++):"x40"===e&&2===selfPlayerDataController.CurrentWheelNo?(this.setWheel2x40(!0),this.wheel2WandsUsed++):"x80"===e&&2===selfPlayerDataController.CurrentWheelNo?(this.setWheel2x80(!0),this.wheel2WandsUsed++):"x160"===e&&2===selfPlayerDataController.CurrentWheelNo&&(this.setWheel2x160(!0),this.wheel2WandsUsed++)},WandController.prototype.onWandDeactivated=function(e){"x5"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x5(!1):"x10"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x10(!1):"x20"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x20(!1):"x40"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x40(!1):"x80"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x80(!1):"x160"===e&&1===selfPlayerDataController.CurrentWheelNo?this.setWheel1x160(!1):"x5"===e&&2===selfPlayerDataController.CurrentWheelNo?this.setWheel2x5(!1):"x10"===e&&2===selfPlayerDataController.CurrentWheelNo?this.setWheel2x10(!1):"x20"===e&&2===selfPlayerDataController.CurrentWheelNo?this.setWheel2x20(!1):"x40"===e&&2===selfPlayerDataController.CurrentWheelNo?this.setWheel2x40(!1):"x80"===e&&2===selfPlayerDataController.CurrentWheelNo?this.setWheel2x80(!1):"x160"===e&&2===selfPlayerDataController.CurrentWheelNo&&this.setWheel2x160(!1)},WandController.prototype.getWheel1x5=function(){return this.Wheel1X5},WandController.prototype.setWheel1x5=function(e){this.Wheel1X5=e},WandController.prototype.getWheel1x10=function(){return this.Wheel1X10},WandController.prototype.setWheel1x10=function(e){this.Wheel1X10=e},WandController.prototype.getWheel1x20=function(){return this.Wheel1X20},WandController.prototype.setWheel1x20=function(e){this.Wheel1X20=e},WandController.prototype.getWheel1x40=function(){return this.Wheel1X40},WandController.prototype.setWheel1x40=function(e){this.Wheel1X40=e},WandController.prototype.getWheel1x80=function(){return this.Wheel1X80},WandController.prototype.setWheel1x80=function(e){this.Wheel1X80=e},WandController.prototype.getWheel1x160=function(){return this.Wheel1X160},WandController.prototype.setWheel1x160=function(e){this.Wheel1X160=e},WandController.prototype.setHasUsedWandOnSecondWheel=function(e){this.hasUsedWandOnSecondWheel=e},WandController.prototype.getWheel1WandsUsedCount=function(){return this.wheel1WandsUsed},WandController.prototype.getHasUsedWandOnSecondWheel=function(){return this.wheel2WandsUsed},WandController.prototype.getWheel2x5=function(){return this.Wheel2X5},WandController.prototype.setWheel2x5=function(e){this.Wheel2X5=e},WandController.prototype.getWheel2x10=function(){return this.Wheel2X10},WandController.prototype.setWheel2x10=function(e){this.Wheel2X10=e},WandController.prototype.getWheel2x20=function(){return this.Wheel2X20},WandController.prototype.setWheel2x20=function(e){this.Wheel2X20=e},WandController.prototype.getWheel2x40=function(){return this.Wheel2X40},WandController.prototype.setWheel2x40=function(e){this.Wheel2X40=e},WandController.prototype.getWheel2x80=function(){return this.Wheel2X80},WandController.prototype.setWheel2x80=function(e){this.Wheel2X80=e},WandController.prototype.getWheel2x160=function(){return this.Wheel2X160},WandController.prototype.setWheel2x160=function(e){this.Wheel2X160=e},WandController.prototype.resetAllSlices=function(){this.Wheel1X5=!1,this.Wheel1X10=!1,this.Wheel1X20=!1,this.Wheel1X40=!1,this.Wheel1X80=!1,this.Wheel1X160=!1,this.Wheel2X5=!1,this.Wheel2X10=!1,this.Wheel2X20=!1,this.Wheel2X40=!1,this.Wheel2X80=!1,this.Wheel2X160=!1};var WandPopupController=pc.createScript("wandPopupController");WandPopupController.attributes.add("continueBtn",{type:"entity"}),WandPopupController.prototype.initialize=function(){selfWandPopupController=this,this.continueBtn.button.on("click",this.onContinue,this)},WandPopupController.prototype.onContinue=function(){selfSoundController.playBtnClickSound(),this.entity.enabled=!1};var WandTutorialController=pc.createScript("wandTutorialController");WandTutorialController.attributes.add("tutorialDescriptionText",{type:"entity"}),WandTutorialController.attributes.add("hand",{type:"entity"}),WandTutorialController.attributes.add("continueButton",{type:"entity"}),WandTutorialController.attributes.add("destObj",{type:"entity"}),WandTutorialController.attributes.add("startPos",{type:"entity"}),WandTutorialController.attributes.add("wheel1XDestination",{type:"entity",array:!0}),WandTutorialController.attributes.add("wheel2XDestination",{type:"entity",array:!0}),WandTutorialController.attributes.add("startPosMega",{type:"entity"}),WandTutorialController.prototype.initialize=function(){selfWandTutorialController=this,this.TutorialWheel1Text1="Drag 1 power wand to each 'x' mark on the wheel",this.TutorialWheel1Text2="You can change up to 6 slices into Power Ups at any time",this.TutorialWheel2Text1="Drag 1 mega wand to any 'x' mark on the wheel",this.TutorialWheel2Text2="You can change 1 slice into Mega Spin at any time",this.currentText1=this.TutorialWheel1Text1,this.currentText2=this.TutorialWheel1Text2,this.text1Enabled=!0,this.currentXSliceNum=0,this.currentDestinationArr=[],this.continueButton.button.on("click",this.onContinueButton,this)},WandTutorialController.prototype.onContinueButton=function(){this.entity.enabled=!1},WandTutorialController.prototype.setInitialData=function(){this.currentDestinationArr=[],1===selfPlayerDataController.CurrentWheelNo?(this.currentText1=this.TutorialWheel1Text1,this.currentText2=this.TutorialWheel1Text2,this.currentDestinationArr=this.wheel1XDestination):2===selfPlayerDataController.CurrentWheelNo&&(this.currentText1=this.TutorialWheel2Text1,this.currentText2=this.TutorialWheel2Text2,this.currentDestinationArr=this.wheel2XDestination),this.setDescriptionText(this.currentText1),window.setTimeout(function(){this.startTextRoutine()}.bind(this),3500),this.currentXSliceNum=0,1===selfPlayerDataController.CurrentWheelNo?window.setTimeout(function(){this.startHandAnimationRoutine(),selfGameController.setWheel1TutorialDone(!0)}.bind(this),100):2===selfPlayerDataController.CurrentWheelNo&&selfPlayerDataController.TotalMegaWandsWon>=1&&selfLevelsController.getMegaWandUnlocked()&&window.setTimeout(function(){this.startPowerupHandAnimationRoutine(),selfGameController.setWheel2TutorialDone(!0)}.bind(this),100)},WandTutorialController.prototype.startHandAnimationRoutine=function(){this.currentXSliceNum>=this.wheel1XDestination.length&&(this.currentXSliceNum=0),this.hand.setPosition(this.startPos.getPosition()),this.destObj.setPosition(this.wheel1XDestination[this.currentXSliceNum].getPosition()),this.destObj.setLocalPosition(this.destObj.getLocalPosition().x+20,this.destObj.getLocalPosition().y-20,this.destObj.getLocalPosition().z),this.hand.enabled=!0,this.hand.script.handTweenController.startTween(this.destObj.getLocalPosition()),window.setTimeout(function(){this.entity.enabled&&(this.currentXSliceNum++,this.startHandAnimationRoutine())}.bind(this),2500)},WandTutorialController.prototype.startPowerupHandAnimationRoutine=function(){this.currentXSliceNum>=this.wheel2XDestination.length&&(this.currentXSliceNum=0),this.hand.setPosition(this.startPosMega.getPosition()),this.destObj.setPosition(this.wheel2XDestination[this.currentXSliceNum].getPosition()),this.destObj.setLocalPosition(this.destObj.getLocalPosition().x+20,this.destObj.getLocalPosition().y-20,this.destObj.getLocalPosition().z),this.hand.enabled=!0,this.hand.script.handTweenController.startTween(this.destObj.getLocalPosition()),window.setTimeout(function(){this.entity.enabled&&(this.currentXSliceNum++,this.startPowerupHandAnimationRoutine())}.bind(this),2500)},WandTutorialController.prototype.startTextRoutine=function(){this.text1Enabled?this.setDescriptionText(this.currentText2):this.setDescriptionText(this.currentText1),this.text1Enabled=!this.text1Enabled,window.setTimeout(function(){this.entity.enabled&&this.startTextRoutine()}.bind(this),3500)},WandTutorialController.prototype.setDescriptionText=function(t){this.tutorialDescriptionText.element.text=t},WandTutorialController.prototype.update=function(t){};var HandTweenController=pc.createScript("handTweenController");HandTweenController.prototype.initialize=function(){selfHandTweenController=this,this.tween=null,this.easing="CubicInOut",this.duration=2},HandTweenController.prototype.startTween=function(t){this.tween&&this.tween.stop(),this.tween=this.entity.tween(this.entity.getLocalPosition()).to(t,this.duration,pc[this.easing]),this.tween.start(),console.log("Tween Started")};var LevelsController=pc.createScript("levelsController");LevelsController.attributes.add("LevelsTimerPopupUI",{type:"entity"}),LevelsController.attributes.add("LevelsUpStarterPopupUI",{type:"entity"}),LevelsController.attributes.add("LevelsUpCompletedPopupUI",{type:"entity"}),LevelsController.prototype.initialize=function(){selfLevelsController=this,this.currentLevelNo=1,this.isCoinsSliceUnlocked=!1,this.isPowerWandSliceUnlocked=!1,this.isWildSpinSliceUnlocked=!1,this.isMegaWandSliceUnlocked=!1,this.isLevelUpInProgress=!1,this.currentLevelPoints=0,this.timeToLevelUp=300,this.scoreToQualifyForLevel2=5e3,this.level2Target=1e4,this.level3Target=15e3,this.level4Target=2e4,this.level5Target=5e4,this.timerCountdown=0,this.isTimeOver=!1,this.isTimerPaused=!1,this.minutes=0,this.seconds=0,this.IsTimerRunning=!1,this.levelUnlockPopupTime=3e3,this.unlock(),this.spinCounter=0,this.isCountingSpin=!1,this.app.on("onPointsWon",this.onPointsWonCallback,this),this.on("destroy",(function(){this.app.off("onPointsWon",this.onPointsWonCallback,this)}))},LevelsController.prototype.update=function(e){},LevelsController.prototype.setLevelData=function(e){this.currentLevelNo=e,this.unlock()},LevelsController.prototype.onPointsWonCallback=function(e){if(this.isLevelUpInProgress)return this.currentLevelPoints+=e,selfLevelUptimerUicontroller.updateScoreText(this.currentLevelPoints),void(1===this.currentLevelNo&&this.currentLevelPoints>=this.level2Target?(this.currentLevelNo=2,this.isLevelUpInProgress=!1,selfPlayerDataController.setLevelNo(this.currentLevelNo),window.setTimeout(function(){selfLevelsController.enableLevelCompleteUI(2)}.bind(this),this.levelUnlockPopupTime)):2===this.currentLevelNo&&this.currentLevelPoints>=this.level3Target?(this.currentLevelNo=3,this.isLevelUpInProgress=!1,selfPlayerDataController.setLevelNo(this.currentLevelNo),window.setTimeout(function(){selfLevelsController.enableLevelCompleteUI(3)}.bind(this),this.levelUnlockPopupTime)):3===this.currentLevelNo&&this.currentLevelPoints>=this.level4Target?(this.currentLevelNo=4,this.isLevelUpInProgress=!1,selfPlayerDataController.setLevelNo(this.currentLevelNo),window.setTimeout(function(){selfLevelsController.enableLevelCompleteUI(4)}.bind(this),this.levelUnlockPopupTime)):4===this.currentLevelNo&&this.currentLevelPoints>=this.level5Target&&(this.currentLevelNo=5,this.isLevelUpInProgress=!1,selfPlayerDataController.setLevelNo(this.currentLevelNo),window.setTimeout(function(){selfLevelsController.enableLevelCompleteUI(5)}.bind(this),this.levelUnlockPopupTime)));1===this.currentLevelNo&&selfPlayerDataController.totalScore>=this.scoreToQualifyForLevel2&&window.setTimeout(function(){selfLevelsController.proceedToNextLevel()}.bind(this),5e3)},LevelsController.prototype.onSpinPressed=function(){this.isCountingSpin&&this.spinCounter++},LevelsController.prototype.getSpinCounter=function(){return this.spinCounter},LevelsController.prototype.startSpinCounter=function(){this.LevelsTimerPopupUI.enabled=!1,this.spinCounter=0,this.isCountingSpin=!0},LevelsController.prototype.checkSpinCounter=function(){1==selfPlayerDataController.CurrentWheelNo&&this.spinCounter>=3&&this.proceedToNextLevel()},LevelsController.prototype.proceedToNextLevel=function(){this.spinCounter=0,this.isCountingSpin=!1,this.enableLevelUpUIPopups()},LevelsController.prototype.retryLevel=function(){this.enableLevelUpUIPopups()},LevelsController.prototype.enableLevelCompleteUI=function(e){selfLevelsController.LevelsUpCompletedPopupUI.enabled=!0,2==e?selfLevelUpcompletedPopup.enableLevel2():3==e?selfLevelUpcompletedPopup.enableLevel3():4==e?selfLevelUpcompletedPopup.enableLevel4():5==e&&selfLevelUpcompletedPopup.enableLevel5()},LevelsController.prototype.enableLevelUpUIPopups=function(){this.currentLevelPoints=0,this.targetPoints=0,this.LevelsTimerPopupUI.enabled=!0,this.LevelsUpStarterPopupUI.enabled=!0,1===this.currentLevelNo?(selfLevelUptimerUicontroller.enableZapptaCoins(),selfLevelupStarterPopupController.enableLevel2(),this.targetPoints=this.level2Target):2===this.currentLevelNo?(selfLevelUptimerUicontroller.enablePowerWand(),selfLevelupStarterPopupController.enableLevel3(),this.targetPoints=this.level3Target):3===this.currentLevelNo?(selfLevelUptimerUicontroller.enableWildSpin(),selfLevelupStarterPopupController.enableLevel4(),this.targetPoints=this.level4Target):4===this.currentLevelNo?(selfLevelUptimerUicontroller.enableMegaWand(),selfLevelupStarterPopupController.enableLevel5(),this.targetPoints=this.level5Target):5===this.currentLevelNo&&(this.LevelsTimerPopupUI.enabled=!1,this.LevelsUpStarterPopupUI.enabled=!1),selfLevelUptimerUicontroller.updateLevelTitleText(""+(this.currentLevelNo+1)),selfLevelUptimerUicontroller.setTargetScoreText(""+(selfPlayerDataController.totalScore+this.targetPoints))},LevelsController.prototype.unlock=function(){this.currentLevelNo<2?selfPlayerDataController.totalScore>=this.scoreToQualifyForLevel2&&selfLevelsController.proceedToNextLevel():(this.currentLevelNo>=2&&this.unlockForLevel2(),this.currentLevelNo>=3&&this.unlockForLevel3(),this.currentLevelNo>=4&&this.unlockForLevel4(),this.currentLevelNo>=5&&this.unlockForLevel5(),this.currentLevelNo>=2&&this.currentLevelNo<5&&selfLevelsController.proceedToNextLevel())},LevelsController.prototype.unlockWheelSlices=function(){this.currentLevelNo>=2&&this.unlockForLevel2(),this.currentLevelNo>=3&&this.unlockForLevel3(),this.currentLevelNo>=4&&this.unlockForLevel4(),this.currentLevelNo>=5&&this.unlockForLevel5()},LevelsController.prototype.unlockForLevel2=function(){this.isCoinsSliceUnlocked=!0,selfUicontroller.enableWheelSliceLock_Zappta(!1)},LevelsController.prototype.unlockForLevel3=function(){this.isPowerWandSliceUnlocked=!0,selfUicontroller.enableLock_PowerWand(!1),selfUicontroller.enableWheelSliceLock_Wand(!1)},LevelsController.prototype.unlockForLevel4=function(){this.isWildSpinSliceUnlocked=!0,selfUicontroller.enableWheelSliceLock_Wild(!1)},LevelsController.prototype.unlockForLevel5=function(){this.isMegaWandSliceUnlocked=!0,selfUicontroller.enableWheelSliceLock_MegaWand(!1),selfUicontroller.enableLock_MegaWand(!1)},LevelsController.prototype.getCoinsUnlocked=function(){return this.isCoinsSliceUnlocked},LevelsController.prototype.getPowerWandUnlocked=function(){return console("this.isPowerWandSliceUnlocked = "+this.isPowerWandSliceUnlocked),this.isPowerWandSliceUnlocked},LevelsController.prototype.getWildSpinUnlocked=function(){return this.isWildSpinSliceUnlocked},LevelsController.prototype.getMegaWandUnlocked=function(){return console.log("isMegaWandSliceUnlocked = "+this.isMegaWandSliceUnlocked),this.isMegaWandSliceUnlocked},LevelsController.prototype.startTimer=function(){this.isLevelUpInProgress=!0,selfLevelsController.IsTimerRunning=!1,this.timerCountdown=this.timeToLevelUp,!1===this.IsTimerRunning&&(this.IsTimerRunning=!0,this.onTimerCountdown())},LevelsController.prototype.pauseTimer=function(){this.isTimerPaused=!0},LevelsController.prototype.resumeTimer=function(){this.isTimerPaused=!1},LevelsController.prototype.onTimerCountdown=function(){timerTimeId=setTimeout((function(){selfLevelsController.isTimerPaused||(selfLevelsController.timerCountdown=parseInt(selfLevelsController.timerCountdown)-1,selfLevelsController.updateTimerText(selfLevelsController.timerCountdown)),selfLevelsController.isLevelUpInProgress&&(selfLevelsController.timerCountdown>0?selfLevelsController.onTimerCountdown():(selfLevelsController.isTimeOver=!0,selfLevelsController.onTimeOut()))}),1e3)},LevelsController.prototype.updateTimerText=function(e){this.minutes=0,this.seconds=0,e>=60&&(this.minutes=Math.floor(parseInt(e)/60),e=parseInt(e)-60*parseInt(this.minutes)),this.seconds=e,this.seconds<10?selfLevelUptimerUicontroller.updateTimerText("0"+this.minutes+":0"+this.seconds):selfLevelUptimerUicontroller.updateTimerText("0"+this.minutes+":"+this.seconds)},LevelsController.prototype.onTimeOut=function(){selfLevelsController.IsTimerRunning=!1,selfLevelsController.isLevelUpInProgress=!1,selfUicontroller.setMessagePopupTxt("TICK-TOCK, TIME'S UP! LET'S TRY AGAIN",3e3),window.setTimeout(function(){selfLevelsController.retryLevel()}.bind(this),3e3)};var ZapptaGiftsPopupController=pc.createScript("zapptaGiftsPopupController");function shuffleArray(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}}ZapptaGiftsPopupController.attributes.add("TargetPos",{type:"entity"}),ZapptaGiftsPopupController.attributes.add("TitleText",{type:"entity"}),ZapptaGiftsPopupController.attributes.add("GiftAnimationFrames",{type:"asset",assetType:"texture",array:!0}),ZapptaGiftsPopupController.attributes.add("GiftsList",{type:"entity",array:!0}),ZapptaGiftsPopupController.prototype.initialize=function(){selfZapptaGiftsPopupController=this,this.GiftsValueList=[0,0,0,0,0,0,0,0,0]},ZapptaGiftsPopupController.prototype.resetData=function(){selfLevelsController.isLevelUpInProgress&&selfLevelsController.pauseTimer(),this.selectedBox=0,this.GiftsValueList=[selfUicontroller.getCurrentZapptaCoinsSliceCount(),0,0,0,0,0,0,0,0],shuffleArray(this.GiftsValueList),this.GiftsOpenCount=-1,this.finalGiftOpened=!1;for(let t=0;t<this.GiftsList.length;t++)this.GiftsList[t].script.giftObj.resetData();this.TitleText.element.text="Which box holds your jackpot of "+selfUicontroller.getCurrentZapptaCoinsSliceCount()+" Zapptas?\nGuess right and win your coins",this.setGiftBoxesValue()},ZapptaGiftsPopupController.prototype.disableAllGiftButtons=function(){for(let t=0;t<this.GiftsList.length;t++)this.GiftsList[t].button.enabled=!1},ZapptaGiftsPopupController.prototype.setGiftBoxesValue=function(){for(let t=0;t<this.GiftsList.length;t++)this.GiftsList[t].script.giftObj.setBoxVal(this.GiftsValueList[t])},ZapptaGiftsPopupController.prototype.onGiftBoxSelected=function(t){this.selectedBox=t,this.disableAllGiftButtons()},ZapptaGiftsPopupController.prototype.startOpeningGifts=function(){this.GiftsOpenCount++,this.GiftsOpenCount===this.selectedBox&&this.GiftsOpenCount++,this.GiftsOpenCount<this.GiftsList.length?this.GiftsList[this.GiftsOpenCount].script.giftObj.animateGiftOpening():this.finalGiftOpened?this.checkUserWonZappta():(this.finalGiftOpened=!0,this.GiftsList[this.selectedBox].script.giftObj.animateGiftOpening())},ZapptaGiftsPopupController.prototype.checkUserWonZappta=function(){window.setTimeout(function(){selfGameController.onZapptaCoinsWon(this.GiftsList[this.selectedBox].script.giftObj.getBoxVal(),this.GiftsList[this.selectedBox].script.giftObj.getBoxVal()==selfUicontroller.getCurrentZapptaCoinsSliceCount()),this.entity.enabled=!1,selfLevelsController.resumeTimer()}.bind(this),1e3)},ZapptaGiftsPopupController.prototype.getTargetPos=function(){return this.TargetPos.getLocalPosition()},ZapptaGiftsPopupController.prototype.getGiftAnimationFrames=function(){return this.GiftAnimationFrames},ZapptaGiftsPopupController.prototype.update=function(t){};var GiftObj=pc.createScript("giftObj");GiftObj.attributes.add("GiftID",{type:"number",default:1}),GiftObj.attributes.add("textElement",{type:"entity"}),GiftObj.prototype.initialize=function(){this.easing="Linear",this.initialPos=this.entity.getLocalPosition().clone(),this.entity.button.on("click",this.onGiftBtn,this),this.boxValue=0,this.frameCounter=0},GiftObj.prototype.resetData=function(){this.boxValue=0,this.frameCounter=0,this.entity.setLocalPosition(this.initialPos),this.entity.button.enabled=!0,this.textElement.enabled=!1,this.entity.children[0].element.texture=selfZapptaGiftsPopupController.getGiftAnimationFrames()[17].resource},GiftObj.prototype.update=function(t){},GiftObj.prototype.setBoxVal=function(t){this.boxValue=t,this.textElement.element.text=""+t},GiftObj.prototype.getBoxVal=function(){return this.boxValue},GiftObj.prototype.onGiftBtn=function(){selfZapptaGiftsPopupController.onGiftBoxSelected(this.GiftID),this.animateToBottomPos(),this.frameCounter=0,window.setTimeout(function(){selfZapptaGiftsPopupController.startOpeningGifts()}.bind(this),500)},GiftObj.prototype.animateToBottomPos=function(){this.tween=this.entity.tween(this.entity.getLocalPosition()).to(selfZapptaGiftsPopupController.getTargetPos(),.5,pc[this.easing]),this.tween.start()},GiftObj.prototype.animateGiftOpening=function(){this.entity.children[0].element.texture=selfZapptaGiftsPopupController.getGiftAnimationFrames()[this.frameCounter].resource,this.frameCounter>=selfZapptaGiftsPopupController.getGiftAnimationFrames().length-1?this.onAnimationComplete():(this.frameCounter++,window.setTimeout(function(){this.animateGiftOpening()}.bind(this),50))},GiftObj.prototype.onAnimationComplete=function(){this.textElement.enabled=!0,window.setTimeout(function(){selfZapptaGiftsPopupController.startOpeningGifts()}.bind(this),250)};var LevelUptimerUicontroller=pc.createScript("levelUptimerUicontroller");LevelUptimerUicontroller.attributes.add("zapptaCoins",{type:"entity"}),LevelUptimerUicontroller.attributes.add("powerWand",{type:"entity"}),LevelUptimerUicontroller.attributes.add("wildSpin",{type:"entity"}),LevelUptimerUicontroller.attributes.add("megaWand",{type:"entity"}),LevelUptimerUicontroller.attributes.add("timerText",{type:"entity"}),LevelUptimerUicontroller.attributes.add("currentScoreText",{type:"entity"}),LevelUptimerUicontroller.attributes.add("levelTitleText",{type:"entity"}),LevelUptimerUicontroller.prototype.initialize=function(){selfLevelUptimerUicontroller=this},LevelUptimerUicontroller.prototype.update=function(e){},LevelUptimerUicontroller.prototype.updateTimerText=function(e){this.timerText.element.text=e},LevelUptimerUicontroller.prototype.updateLevelTitleText=function(e){this.levelTitleText.element.text=e},LevelUptimerUicontroller.prototype.updateScoreText=function(e){},LevelUptimerUicontroller.prototype.setTargetScoreText=function(e){this.currentScoreText.element.text=e},LevelUptimerUicontroller.prototype.disableAll=function(){this.zapptaCoins.enabled=!1,this.powerWand.enabled=!1,this.wildSpin.enabled=!1,this.megaWand.enabled=!1,this.resetStats()},LevelUptimerUicontroller.prototype.resetStats=function(){this.currentScoreText.element.text="0",this.timerText.element.text="05:00"},LevelUptimerUicontroller.prototype.enableZapptaCoins=function(){this.disableAll(),this.zapptaCoins.enabled=!0},LevelUptimerUicontroller.prototype.enablePowerWand=function(){this.disableAll(),this.powerWand.enabled=!0},LevelUptimerUicontroller.prototype.enableWildSpin=function(){this.disableAll(),this.wildSpin.enabled=!0},LevelUptimerUicontroller.prototype.enableMegaWand=function(){this.disableAll(),this.megaWand.enabled=!0};var LevelupStarterPopupController=pc.createScript("levelupStarterPopupController");LevelupStarterPopupController.attributes.add("level2",{type:"entity"}),LevelupStarterPopupController.attributes.add("level3",{type:"entity"}),LevelupStarterPopupController.attributes.add("level4",{type:"entity"}),LevelupStarterPopupController.attributes.add("level5",{type:"entity"}),LevelupStarterPopupController.attributes.add("continueBtn",{type:"entity"}),LevelupStarterPopupController.prototype.initialize=function(){selfLevelupStarterPopupController=this,this.continueBtn.button.on("click",this.onContinueBtn,this)},LevelupStarterPopupController.prototype.onContinueBtn=function(){this.entity.enabled=!1,selfLevelsController.startTimer()},LevelupStarterPopupController.prototype.disableAll=function(){this.level2.enabled=!1,this.level3.enabled=!1,this.level4.enabled=!1,this.level5.enabled=!1},LevelupStarterPopupController.prototype.enableLevel2=function(){this.disableAll(),this.level2.enabled=!0},LevelupStarterPopupController.prototype.enableLevel3=function(){this.disableAll(),this.level3.enabled=!0},LevelupStarterPopupController.prototype.enableLevel4=function(){this.disableAll(),this.level4.enabled=!0},LevelupStarterPopupController.prototype.enableLevel5=function(){this.disableAll(),this.level5.enabled=!0};var LevelUpcompletedPopup=pc.createScript("levelUpcompletedPopup");LevelUpcompletedPopup.attributes.add("level2",{type:"entity"}),LevelUpcompletedPopup.attributes.add("level3",{type:"entity"}),LevelUpcompletedPopup.attributes.add("level4",{type:"entity"}),LevelUpcompletedPopup.attributes.add("level5",{type:"entity"}),LevelUpcompletedPopup.attributes.add("continueBtn",{type:"entity"}),LevelUpcompletedPopup.prototype.initialize=function(){selfLevelUpcompletedPopup=this,this.continueBtn.button.on("click",this.onContinueBtn,this)},LevelUpcompletedPopup.prototype.onContinueBtn=function(){this.entity.enabled=!1,selfLevelsController.startSpinCounter(),selfLevelsController.unlockWheelSlices()},LevelUpcompletedPopup.prototype.disableAll=function(){this.level2.enabled=!1,this.level3.enabled=!1,this.level4.enabled=!1,this.level5.enabled=!1},LevelUpcompletedPopup.prototype.enableLevel2=function(){this.disableAll(),this.level2.enabled=!0},LevelUpcompletedPopup.prototype.enableLevel3=function(){this.disableAll(),this.level3.enabled=!0},LevelUpcompletedPopup.prototype.enableLevel4=function(){this.disableAll(),this.level4.enabled=!0},LevelUpcompletedPopup.prototype.enableLevel5=function(){this.disableAll(),this.level5.enabled=!0};var FrameAnimationController=pc.createScript("frameAnimationController");FrameAnimationController.attributes.add("frameTime",{type:"number",default:50}),FrameAnimationController.attributes.add("frames",{type:"asset",assetType:"texture",array:!0}),FrameAnimationController.prototype.initialize=function(){this.frameCounter=0},FrameAnimationController.prototype.update=function(t){},FrameAnimationController.prototype.initiateAnimaetion=function(){this.frameCounter=0,this.animateGiftOpening(),this.animateScale()},FrameAnimationController.prototype.animateGiftOpening=function(){this.entity.element.texture=this.frames[this.frameCounter].resource,this.frameCounter>=this.frames.length-1?this.onAnimationComplete():(this.frameCounter++,window.setTimeout(function(){this.animateGiftOpening()}.bind(this),50))},FrameAnimationController.prototype.animateScale=function(){this.entity.setLocalScale(1,1,1),this.tween=this.entity.tween(this.entity.getLocalScale()).to(new pc.Vec3(3,3,3),.5,pc.ElasticOut),this.tween.start(),this.tweenRot=this.entity.tween(this.entity.getLocalRotation()).rotate(new pc.Vec3(0,0,0),.5,pc.Linear),this.tweenRot.start()},FrameAnimationController.prototype.onAnimationComplete=function(){selfSoundController.playLockClickSound()};var WandButtonScript=pc.createScript("wandButtonScript");WandButtonScript.attributes.add("wandParent",{type:"entity"}),WandButtonScript.prototype.initialize=function(){this.result=this.wandParent,this.entity.button.on("click",this.onWandButton,this)},WandButtonScript.prototype.onWandButton=function(){this.canDragWand()&&(this.result.script.xObjController.onWandActivated(),1==selfPlayerDataController.CurrentWheelNo?(selfPlayerDataController.TotalWandsWon--,selfPlayerDataController.WandsConsumedInTurn++,selfUicontroller.setTotalWandsText(selfPlayerDataController.TotalWandsWon)):2==selfPlayerDataController.CurrentWheelNo&&(selfPlayerDataController.TotalMegaWandsWon--,selfPlayerDataController.MegaWandsConsumedInTurn++,selfUicontroller.setTotalMegaWandsText(selfPlayerDataController.TotalMegaWandsWon)))},WandButtonScript.prototype.canDragWand=function(){return!selfGameController.getIsSpinning()&&(!!(1==selfPlayerDataController.CurrentWheelNo&&selfPlayerDataController.TotalWandsWon>=1&&selfWandController.getWheel1WandsUsedCount()<=5&&!selfGameController.getX200Enabled()&&selfLevelsController.getPowerWandUnlocked())||!!(2==selfPlayerDataController.CurrentWheelNo&&!selfWandController.getHasUsedWandOnSecondWheel()<=5&&selfPlayerDataController.TotalMegaWandsWon>=1&&selfLevelsController.getMegaWandUnlocked()))};